{"version":3,"sources":["assets/img/vote.png","components/MobileMenu/MobileMenu.tsx","components/Container/Container.tsx","components/Logo/Logo.tsx","components/Icon/Icon.tsx","components/icons/AddIcon.tsx","components/icons/MenuIcon.tsx","components/icons/RemoveIcon.tsx","contexts/Modals/Modals.tsx","hooks/useModal.ts","components/Button/Button.tsx","utils/erc20.ts","hooks/useTokenBalance.ts","utils/formatBalance.ts","grap/lib/constants.js","grapUtils/index.js","grap/lib/types.js","grap/lib/contracts.js","grap/lib/accounts.js","grap/lib/evm.js","grap/Grap.js","grap/index.js","contexts/GrapProvider/GrapProvider.tsx","hooks/useGrap.ts","hooks/useDelegate.ts","components/CardIcon/CardIcon.tsx","components/Label/Label.tsx","components/Card/Card.tsx","components/CardContent/CardContent.tsx","components/Modal/Modal.tsx","components/ModalTitle/ModalTitle.tsx","components/TopBar/components/AccountModal.tsx","constants/tokenAddresses.ts","components/TopBar/components/AccountButton.tsx","components/TopBar/components/Nav.tsx","components/TopBar/TopBar.tsx","contexts/Proposals/context.ts","contexts/Proposals/Proposals.tsx","contexts/Farms/context.ts","contexts/Farms/Farms.tsx","contexts/Transactions/context.ts","contexts/Transactions/reducer.ts","contexts/Transactions/TransactionsProvider.tsx","components/Footer/components/Nav.tsx","components/Footer/Footer.tsx","components/Page/Page.tsx","components/PageHeader/PageHeader.tsx","components/Spacer/Spacer.tsx","hooks/useFarm.ts","hooks/useRedeem.ts","components/Value/Value.tsx","hooks/useEarnings.ts","hooks/useReward.ts","views/Farm/components/Harvest.tsx","components/IconButton/IconButton.tsx","hooks/useAllowance.ts","hooks/useApprove.ts","hooks/useStake.ts","hooks/useStakedBalance.ts","hooks/useUnstake.ts","components/ModalActions/ModalActions.tsx","components/Input/Input.tsx","components/TokenInput/TokenInput.tsx","views/Farm/components/DepositModal.tsx","views/Farm/components/WithdrawModal.tsx","views/Farm/components/Stake.tsx","views/Farm/Farm.tsx","components/Loader/Loader.tsx","hooks/useFarms.ts","views/Farms/components/FarmCards.tsx","views/Farms/Farms.tsx","views/ProposalPage/ProposalPage.tsx","hooks/useProposals.ts","views/Vote/components/ProposalCards.tsx","views/Vote/Vote.tsx","components/Dial/Dial.tsx","hooks/useRebase.ts","views/Home/components/Rebase.tsx","views/Home/components/Stats.tsx","views/Home/utils.ts","views/Home/Home.tsx","views/Statics/componnents/StaticsCards.tsx","views/Statics/Statics.tsx","theme/colors.ts","theme/index.ts","App.tsx","serviceWorker.js","index.tsx","assets/img/farmer.png"],"names":["module","exports","StyledBackdrop","styled","div","props","theme","color","grey","StyledMobileMenuWrapper","slideIn","keyframes","StyledMobileMenu","StyledLink","NavLink","spacing","primary","main","MobileMenu","onDismiss","visible","onClick","exact","activeClassName","to","StyledContainer","width","Container","children","size","siteWidth","useContext","ThemeContext","StyledLogo","StyledText","span","Logo","src","farmer","height","style","marginTop","StyledIcon","Icon","React","isValidElement","cloneElement","AddIcon","themeColor","viewBox","d","fill","MenuIcon","RemoveIcon","Context","createContext","onPresent","StyledModalWrapper","StyledModalBackdrop","Modals","useState","isOpen","setIsOpen","content","setContent","handlePresent","useCallback","modalContent","handleDismiss","undefined","Provider","value","useModal","modal","StyledButton","button","boxShadow","disabled","fontSize","padding","Link","StyledExternalLink","a","Button","buttonColor","buttonSize","buttonPadding","href","text","state","variant","ButtonChild","useMemo","pathname","target","getContract","provider","address","Web3","eth","Contract","ERC20ABI","abi","getAllowance","tokenContract","poolContract","account","methods","allowance","options","call","getBalance","tokenAddress","userAddress","balanceOf","balance","useTokenBalance","BigNumber","setBalance","useWallet","ethereum","fetchBalance","useEffect","refreshInterval","setInterval","clearInterval","getDisplayBalance","decimals","displayBalance","dividedBy","pow","lt","toPrecision","toFixed","getFullDisplayBalance","ONE_MINUTE_IN_SECONDS","ONE_HOUR_IN_SECONDS","times","ONE_DAY_IN_SECONDS","PROPOSALSTATUSCODE","addressMap","config","EXPONENTIAL_AT","DECIMAL_PLACES","GAS_LIMIT","STAKING","DEFAULT","SNX","getPoolStartTime","starttime","stake","amount","tokenName","now","Date","getTime","gas","toUpperCase","toString","send","from","on","tx","console","log","transactionHash","alert","unstake","withdraw","harvest","getReward","redeem","exit","approve","ethers","constants","MaxUint256","rebase","grap","contracts","rebaser","getPoolContracts","pools","Object","keys","filter","c","indexOf","reduce","acc","cur","newAcc","getEarned","pool","grapsScalingFactor","scalingFactor","earned","multipliedBy","getStaked","toBigN","getCurrentPrice","getCurrentTWAP","getTargetPrice","getCirculatingSupply","web3","getBlock","eth_pool","toNumber","timePassed","grapsDistributed","ycrvUNIV_pool","pool2Yams","circulating","plus","getNextRebaseTimestamp","yam","then","res","timestamp","interval","offset","secondsToRebase","rebasingActive","timeOfTWAPInit","twap_init","rebaseDelay","delay","endTime","getTotalSupply","totalSupply","getProposals","proposals","fromBlock","toBlock","gov","getPastEvents","events","i","event","index","removed","push","id","returnValues","proposer","description","startBlock","Number","endBlock","targets","values","signatures","status","findIndex","proposal","length","sort","b","getProposal","find","p","getProposalStatus","proposalStatus","getQuorumVotes","quorumVotes","getProposalThreshold","proposalThreshold","getCurrentVotes","delegate","castVote","support","ConfirmationType","Hash","Confirmed","Both","Simulate","Contracts","networkId","this","defaultConfirmations","autoGasMultiplier","confirmationType","Types","defaultGas","defaultGasPrice","uni_pair","UNIPairJson","uni_router","UNIRouterJson","uni_fact","UNIFactJson","WETHPoolJson","yfi_pool","YFIPoolJson","yfii_pool","YFIIPoolJson","yam_pool","YAMPoolJson","crv_pool","CRVPoolJson","comp_pool","COMPPoolJson","link_pool","LINKPoolJson","lend_pool","LENDPoolJson","mkr_pool","MKRPoolJson","snx_pool","SNXPoolJson","IncJson","yfi","ERC20Json","crv","GRAPJson","comp","link","lend","mkr","yfii","snx","ycrv","erc20","ycrvUNIV","uni_lp","GRAPRebaserJson","reserves","GRAPReservesJson","GRAPGovJson","timelock","GRAPTimelockJson","weth","WETHJson","setProvider","setDefaultAccount","defaultAccount","contract","json","forEach","setContractProvider","method","confirmations","txOptions","blockGasLimit","setGasLimit","gasPrice","estimateGas","gasEstimate","data","encodeABI","_parent","_address","transactionData","multiplier","totalGas","Math","floor","g","promi","hashOutcome","OUTCOMES","INITIAL","RESOLVED","REJECTED","confirmationOutcome","t","includes","Error","hashPromise","Promise","resolve","reject","error","off","txHash","confirmationPromise","desiredConf","confNumber","receipt","notifier","hash","confirmation","m2","blockNumber","block","gasLimit","contractJson","networks","Account","accountInfo","type","allocation","balances","approvals","walletInfo","UNIAmpl","REQUIRE_MSG","EVM","resetSnapshotId","snapshot","reset","callJsonrpcMethod","duration","params","args","jsonrpc","response","result","val","expected_error_msg","message","matchedIndex","search","matchedString","substring","expect","toEqual","promise","reason","assertCertainError","process","COVERAGE","Grap","testing","realProvider","providers","WebsocketProvider","ethereumNodeTimeout","HttpProvider","accounts","markets","prices","allocations","rates","aprs","poolWeis","platformInfo","resetEVM","number","operation","setNetworkId","newAccount","wallet","add","privateKey","toLowerCase","GrapProvider","setGrap","grapLib","window","grapsauce","useGrap","useDelegate","onDelegate","StyledCardIcon","CardIcon","StyledLabel","Label","StyledCard","Card","StyledCardContent","CardContent","StyledModal","Modal","StyledModalTitle","topBarSize","ModalTitle","StyledSpacer","StyledValue","StyledBalance","StyledBalanceWrapper","AccountModal","votes","setvotes","devsVotes","setdevsVotes","setProposalThreshold","handleSignOutClick","onDelegateSelf","onDelegateDev","grapBalance","fetchVotes","StyledAccountButton","AccountButton","onPresentAccountModal","connect","StyledNav","nav","Nav","StyledLogoWrapper","StyledTopBar","StyledTopBarInner","StyledNavWrapper","StyledAccountButtonWrapper","StyledMenuButton","TopBar","onPresentMobileMenu","context","Proposals","setProposals","fetchProposals","propsArr","farms","NAME_FOR_POOL","ICON_FOR_POOL","Farms","setFarms","fetchPools","farmsArr","poolKeys","poolKey","tokenKey","replace","name","depositToken","depositTokenAddress","earnToken","earnTokenAddress","icon","transactions","onAddTransaction","setTransactions","initialState","initialized","reducer","action","transaction","TransactionsProvider","useReducer","dispatch","handleAddTransaction","fetchTransactions","txsRaw","localStorage","getItem","txs","JSON","parse","e","setItem","stringify","StyledFooter","footer","StyledFooterInner","Footer","StyledPage","StyledMain","Page","StyledPageHeader","StyledTitle","h1","StyledSubtitle","h3","PageHeader","subtitle","title","Spacer","s","useFarm","FarmsContext","farm","useRedeem","onRedeem","Value","useEarnings","useReward","onReward","StyledCardHeader","StyledCardActions","StyledCardContentInner","Harvest","earnings","IconButton","useAllowance","setAllowance","fetchAllowance","useApprove","onApprove","useStake","onStake","useStakedBalance","useUnstake","onUnstake","StyledModalActions","StyledModalAction","ModalActions","l","Children","toArray","map","child","StyledInputWrapper","borderRadius","StyledInput","input","Input","endAdornment","onChange","placeholder","startAdornment","StyledTokenInput","StyledTokenAdornmentWrapper","StyledMaxText","StyledTokenSymbol","TokenInput","max","symbol","onSelectMax","toLocaleString","DepositModal","onConfirm","setVal","fullBalance","handleChange","currentTarget","handleSelectMax","WithdrawModal","StyledActionSpacer","Stake","requestedApproval","setRequestedApproval","tokenBalance","stakedBalance","onPresentDeposit","onPresentWithdraw","handleApprove","StyledFarm","StyledCardsWrapper","StyledCardWrapper","CountdownView","YamNotifyView","Farm","farmId","useParams","scrollTo","depositTokenName","earnTokenName","date","countdownBlock","token","lpPoolTips","spin","StyledLoader","StyledYam","Loader","useFarms","FarmCard","startTime","setStartTime","getStartTime","poolActive","StyledCardAccent","StyledContent","StyledDetails","StyledDetail","renderer","countdownProps","hours","minutes","seconds","paddedSeconds","paddedMinutes","paddedHours","StyledCards","StyledLoadingWrapper","StyledRow","h4","FarmCards","rows","farmRows","newFarmRows","farmRow","key","j","Fragment","path","useRouteMatch","alignItems","display","flex","justifyContent","StyledCheckpoints","StyledCheckpoint","left","StyledCheckpointText","StyledMeter","StyledProposalTitle","StyledProposalContent","StyledMeterInner","secondary","ProposalPage","proposalId","setProposal","forVotes","againstVotes","totalVotes","setVotes","handleVoteForClick","handleVoteAgainstClick","fetchProposal","quorumCount","String","useProposals","ProposalsContext","ProposalCard","StyledCreated","StyledEnd","h5","ongoing","fail","ProposalCards","proposalRows","newProposalRows","proposalRow","Vote","vote","StyledDial","StyledInner","StyledOuter","Dial","styles","buildStyles","strokeLinecap","pathColor","pathTransitionDuration","useRebase","onRebase","StyledRebase","StyledCountdown","StyledCountdownText","Rebase","nextRebase","dialValue","StyledStats","StyledStat","Stats","circSupply","curPrice","targetPrice","formattedTotalSupply","supplyStr","numeral","format","gCP","gTP","gCS","gNRT","gTS","getStats","StyledOverview","Home","setStats","fetchStats","statsData","currentPrice","loaded","StaticsCard","price","setData","getData","selfAddress","currentProvider","selectedAddress","STAKING_POOL","Token","GRAP_TOKEN","rewardTokenTicker","stakingTokenTicker","grapScale","rewardPoolAddr","totalStakedAmount","rewardRate","round","weekly_reward","rewardPerToken","stakingTokenPrice","lookUpPrices","usd","parseFloat","UNI_TOKEN_ADDR","totalyCRVInUniswapPair","totalGRAPInUniswapPair","yCRVPrice","totalSupplyOfStakingToken","weeklyEstimate","weeklyROI","StyledPre","className","toDollar","DataDetail","pre","TitleView","num","fixed","str","id_array","ids","join","fetch","Statics","StaticsCards","green","500","red","100","200","black","300","400","600","800","light","white","successful","1","2","3","4","5","6","7","Providers","chainId","App","mobileMenu","setMobileMenu","handleDismissMobileMenu","handlePresentMobileMenu","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.dd2cf6fc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/vote.c3f8cfa4.png\";","import React from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nimport { NavLink } from 'react-router-dom'\r\n\r\ninterface MobileMenuProps {\r\n  onDismiss: () => void,\r\n  visible?: boolean\r\n}\r\n\r\nconst MobileMenu: React.FC<MobileMenuProps> = ({ onDismiss, visible }) => {\r\n  if (visible) {\r\n    return (\r\n      <StyledMobileMenuWrapper>\r\n        <StyledBackdrop onClick={onDismiss} />\r\n        <StyledMobileMenu>\r\n          <StyledLink exact activeClassName=\"active\" to=\"/\" onClick={onDismiss}>Home</StyledLink>\r\n          <StyledLink exact activeClassName=\"active\" to=\"/farms\" onClick={onDismiss}>Farms</StyledLink>\r\n          <StyledLink exact activeClassName=\"active\" to=\"/vote\" onClick={onDismiss}>Vote</StyledLink>\r\n          <StyledLink exact activeClassName=\"active\" to=\"/stats\" onClick={onDismiss}>Stats</StyledLink>\r\n        </StyledMobileMenu>\r\n      </StyledMobileMenuWrapper>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nconst StyledBackdrop = styled.div`\r\n  background-color: ${props => props.theme.color.grey[600]}aa;\r\n  position: absolute;\r\n  top: 0; right: 0; bottom: 0; left: 0;\r\n`\r\n\r\nconst StyledMobileMenuWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: fixed;\r\n  top: 0; right: 0; bottom: 0; left: 0;\r\n  z-index: 1000;\r\n`\r\n\r\nconst slideIn = keyframes`\r\n  0% {\r\n    transform: translateX(0)\r\n  }\r\n  100% {\r\n    transform: translateX(-100%);\r\n  }\r\n`\r\n\r\nconst StyledMobileMenu = styled.div`\r\n  animation: ${slideIn} 0.3s forwards ease-out;\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 0; left: 100%; bottom: 0;\r\n  width: calc(100% - 48px);\r\n`\r\n\r\nconst StyledLink = styled(NavLink)`\r\n  box-sizing: border-box;\r\n  color: ${props => props.theme.color.grey[400]};\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  padding: ${props => props.theme.spacing[3]}px ${props => props.theme.spacing[4]}px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  width: 100%;\r\n  &:hover {\r\n    color: ${props => props.theme.color.grey[500]};\r\n  }\r\n  &.active {\r\n    color: ${props => props.theme.color.primary.main};\r\n  }\r\n`\r\n\r\nexport default MobileMenu","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\ninterface ContainerProps {\r\n  children?: React.ReactNode,\r\n  size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nconst Container: React.FC<ContainerProps> = ({ children, size = 'md' }) => {\r\n  const { siteWidth } = useContext<{ siteWidth: number }>(ThemeContext)\r\n  let width: number\r\n  switch (size) {\r\n    case 'sm':\r\n      width = siteWidth / 2\r\n      break\r\n    case 'md':\r\n      width = siteWidth * 2 / 3\r\n      break\r\n    case 'lg':\r\n    default:\r\n      width = siteWidth\r\n  }\r\n  return (\r\n    <StyledContainer width={width}>\r\n      {children}\r\n    </StyledContainer>\r\n  )\r\n}\r\n\r\ninterface StyledContainerProps {\r\n  width: number\r\n}\r\n\r\nconst StyledContainer = styled.div<StyledContainerProps>`\r\n  box-sizing: border-box;\r\n  margin: 0 auto;\r\n  max-width: ${props => props.width}px;\r\n  padding: 0 ${props => props.theme.spacing[4]}px;\r\n  width: 100%;\r\n  @media (max-width: 768px) {\r\n    padding: 0 ${props => props.theme.spacing[1]}px;\r\n  }\r\n`\r\n\r\nexport default Container","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport farmer from '../../assets/img/farmer.png'\r\n\r\nconst Logo: React.FC = () => {\r\n  return (\r\n    <StyledLogo>\r\n      <img src={farmer} height=\"32\" style={{ marginTop: -4 }} />\r\n      <StyledText>GRAP Farmer</StyledText>\r\n    </StyledLogo>\r\n  )\r\n}\r\n\r\nconst StyledLogo = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst StyledText = styled.span`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  margin-left: ${props => props.theme.spacing[2]}px;\r\n  @media (max-width: 768px) {\r\n    font-size: 14px;\r\n  }\r\n`\r\n\r\nexport default Logo","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport interface IconProps {\r\n  color?: string,\r\n  children?: React.ReactNode,\r\n  size?: number,\r\n}\r\n\r\nconst Icon: React.FC<IconProps> = ({ children, color, size = 24 }) => (\r\n  <StyledIcon>\r\n    {React.isValidElement(children) && React.cloneElement(children, {\r\n      color,\r\n      size,\r\n    })}\r\n  </StyledIcon>\r\n)\r\n\r\nconst StyledIcon = styled.div`\r\n`\r\n\r\nexport default Icon","import React, { useContext } from 'react'\r\nimport { ThemeContext } from 'styled-components'\r\n\r\nimport Icon, { IconProps } from '../Icon'\r\n\r\nconst AddIcon: React.FC<IconProps> = ({ color }) => {\r\n  const { color: themeColor } = useContext(ThemeContext)\r\n  return (\r\n    <Icon>\r\n      <svg\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n        width=\"24\"\r\n      >\r\n        <path\r\n          d=\"M0 0h24v24H0z\"\r\n          fill=\"none\"\r\n        />\r\n        <path\r\n          d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\r\n          fill={color ? color : themeColor.grey[400]}\r\n        />\r\n      </svg>\r\n    </Icon>\r\n  )\r\n}\r\n\r\nexport default AddIcon","import React from 'react'\r\n\r\nimport { IconProps } from '../Icon'\r\n\r\nconst MenuIcon: React.FC<IconProps> = ({ size = 24 }) => {\r\n  return (\r\n    <svg\r\n      height={size}\r\n      viewBox=\"0 0 24 24\"\r\n      width={size}\r\n    >\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default MenuIcon","import React, { useContext } from 'react'\r\nimport { ThemeContext } from 'styled-components'\r\n\r\nimport Icon, { IconProps } from '../Icon'\r\n\r\nconst RemoveIcon: React.FC<IconProps> = ({ color }) => {\r\n  const { color: themeColor } = useContext(ThemeContext)\r\n  return (\r\n    <Icon>\r\n      <svg\r\n        viewBox=\"0 0 24 24\"\r\n        fill={color ? color : themeColor.grey[400]}\r\n        width=\"18px\"\r\n        height=\"18px\"\r\n      >\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n        <path d=\"M19 13H5v-2h14v2z\"/>\r\n      </svg>\r\n\r\n    </Icon>\r\n  )\r\n}\r\n\r\nexport default RemoveIcon","import React, { createContext, useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface ModalsContext {\r\n  content?: React.ReactNode,\r\n  isOpen?: boolean,\r\n  onPresent: (content: React.ReactNode) => void,\r\n  onDismiss: () => void\r\n}\r\n\r\nexport const Context = createContext<ModalsContext>({\r\n  onPresent: () => {},\r\n  onDismiss: () => {},\r\n})\r\n\r\nconst Modals: React.FC = ({ children }) => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [content, setContent] = useState<React.ReactNode>()\r\n\r\n  const handlePresent = useCallback((modalContent: React.ReactNode) => {\r\n    setContent(modalContent)\r\n    setIsOpen(true)\r\n  }, [setContent, setIsOpen])\r\n\r\n  const handleDismiss = useCallback(() => {\r\n    setContent(undefined)\r\n    setIsOpen(false)\r\n  }, [setContent, setIsOpen])\r\n\r\n  return (\r\n    <Context.Provider value={{\r\n      content,\r\n      isOpen,\r\n      onPresent: handlePresent,\r\n      onDismiss: handleDismiss,\r\n    }}>\r\n      {children}\r\n      {isOpen && (\r\n        <StyledModalWrapper>\r\n          <StyledModalBackdrop onClick={handleDismiss} />\r\n          {React.isValidElement(content) && React.cloneElement(content, {\r\n            onDismiss: handleDismiss,\r\n          })}\r\n        </StyledModalWrapper>\r\n      )}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nconst StyledModalWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  position: fixed;\r\n  top: 0; right: 0; bottom: 0; left: 0;\r\n`\r\n\r\nconst StyledModalBackdrop = styled.div`\r\n  background-color: ${props => props.theme.color.grey[600]}aa;\r\n  position: absolute;\r\n  top: 0; right: 0; bottom: 0; left: 0;\r\n`\r\n\r\nexport default Modals","import { useCallback, useContext } from 'react'\r\n\r\nimport { Context } from '../contexts/Modals'\r\n\r\nconst useModal = (modal: React.ReactNode) => {\r\n  const { onDismiss, onPresent } = useContext(Context)\r\n\r\n  const handlePresent = useCallback(() => {\r\n    onPresent(modal)\r\n  }, [\r\n    modal,\r\n    onPresent,\r\n  ])\r\n\r\n  return [handlePresent, onDismiss]\r\n}\r\n\r\nexport default useModal","import React, { useContext, useMemo } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\ninterface ButtonProps {\r\n  children?: React.ReactNode,\r\n  disabled?: boolean,\r\n  href?: string,\r\n  onClick?: () => void,\r\n  size?: 'sm' | 'md' | 'lg',\r\n  text?: string,\r\n  to?: string,\r\n  state?: any,\r\n  variant?: 'default' | 'secondary' | 'tertiary'\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({\r\n  children,\r\n  disabled,\r\n  href,\r\n  onClick,\r\n  size,\r\n  text,\r\n  to,\r\n  state,\r\n  variant,\r\n}) => {\r\n  const { color, spacing } = useContext(ThemeContext)\r\n\r\n  let buttonColor: string\r\n  switch (variant) {\r\n    case 'secondary':\r\n      buttonColor = color.grey[500]\r\n      break\r\n    case 'default':\r\n    default:\r\n      buttonColor = color.primary.main\r\n  }\r\n\r\n  let boxShadow: string\r\n  let buttonSize: number\r\n  let buttonPadding: number\r\n  let fontSize: number\r\n  switch (size) {\r\n    case 'sm':\r\n      boxShadow = `4px 4px 8px ${color.grey[300]},\r\n        -8px -8px 16px ${color.grey[100]}FF;`\r\n      buttonPadding = spacing[3]\r\n      buttonSize = 36\r\n      fontSize = 14\r\n      break\r\n    case 'lg':\r\n      boxShadow = `6px 6px 12px ${color.grey[300]},\r\n        -12px -12px 24px ${color.grey[100]}ff;`\r\n      buttonPadding = spacing[4]\r\n      buttonSize = 72\r\n      fontSize = 16\r\n      break\r\n    case 'md':\r\n    default:\r\n      boxShadow = `6px 6px 12px ${color.grey[300]},\r\n        -12px -12px 24px -2px ${color.grey[100]}ff;`\r\n      buttonPadding = spacing[4]\r\n      buttonSize = 56\r\n      fontSize = 16\r\n  }\r\n\r\n  const ButtonChild = useMemo(() => {\r\n    if (to) {\r\n      return <StyledLink to={{ pathname: to, state }}>{text}</StyledLink>\r\n    } else if (href) {\r\n      return <StyledExternalLink href={href} target=\"__blank\">{text}</StyledExternalLink>\r\n    } else {\r\n      return text\r\n    }\r\n  }, [href, text, to])\r\n\r\n  return (\r\n    <StyledButton\r\n      boxShadow={boxShadow}\r\n      color={buttonColor}\r\n      disabled={disabled}\r\n      fontSize={fontSize}\r\n      onClick={onClick}\r\n      padding={buttonPadding}\r\n      size={buttonSize}\r\n    >\r\n      {children}\r\n      {ButtonChild}\r\n    </StyledButton>\r\n  )\r\n}\r\n\r\ninterface StyledButtonProps {\r\n  boxShadow: string,\r\n  color: string,\r\n  disabled?: boolean,\r\n  fontSize: number,\r\n  padding: number,\r\n  size: number\r\n}\r\n\r\nconst StyledButton = styled.button<StyledButtonProps>`\r\n  align-items: center;\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  border: 0;\r\n  border-radius: 12px;\r\n  box-shadow: ${props => props.boxShadow};\r\n  color: ${props => !props.disabled ? props.color : `${props.color}55`};\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-size: ${props => props.fontSize}px;\r\n  font-weight: 700;\r\n  height: ${props => props.size}px;\r\n  justify-content: center;\r\n  outline: none;\r\n  padding-left: ${props => props.padding}px;\r\n  padding-right: ${props => props.padding}px;\r\n  pointer-events: ${props => !props.disabled ? undefined : 'none'};\r\n  width: 100%;\r\n  &:hover {\r\n    background-color: ${props => props.theme.color.grey[100]};\r\n  }\r\n`\r\n\r\nconst StyledLink = styled(Link)`\r\n  align-items: center;\r\n  color: inherit;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 56px;\r\n  justify-content: center;\r\n  margin: 0 ${props => -props.theme.spacing[4]}px;\r\n  padding: 0 ${props => props.theme.spacing[4]}px;\r\n  text-decoration: none;\r\n`\r\n\r\nconst StyledExternalLink = styled.a`\r\n  align-items: center;\r\n  color: inherit;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 56px;\r\n  justify-content: center;\r\n  margin: 0 ${props => -props.theme.spacing[4]}px;\r\n  padding: 0 ${props => props.theme.spacing[4]}px;\r\n  text-decoration: none;\r\n`\r\n\r\nexport default Button","import Web3 from 'web3'\r\nimport { provider } from 'web3-core'\r\nimport { AbiItem } from 'web3-utils'\r\n\r\nimport ERC20ABI from '../constants/abi/ERC20.json'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nexport const getContract = (provider: provider, address: string) => {\r\n  const web3 = new Web3(provider)\r\n  const contract = new web3.eth.Contract(ERC20ABI.abi as unknown as AbiItem, address)\r\n  return contract\r\n}\r\n\r\nexport const getAllowance = async (tokenContract: Contract, poolContract: Contract, account: string): Promise<string> => {\r\n  try {\r\n    const allowance: string = await tokenContract.methods.allowance(account, poolContract.options.address).call()\r\n    return allowance\r\n  } catch (e) {\r\n    return '0'\r\n  }\r\n}\r\n\r\nexport const getBalance = async (provider: provider, tokenAddress: string, userAddress: string): Promise<string> => {\r\n  const tokenContract = getContract(provider, tokenAddress)\r\n  try {\r\n    const balance: string = await tokenContract.methods.balanceOf(userAddress).call()\r\n    return balance\r\n  } catch (e) {\r\n    return '0'\r\n  }\r\n}","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\n\r\nimport { getBalance } from '../utils/erc20'\r\n\r\nconst useTokenBalance = (tokenAddress: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account, ethereum }: { account: string, ethereum: provider } = useWallet()\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await getBalance(ethereum, tokenAddress, account)\r\n    setBalance(new BigNumber(balance))\r\n  }, [account, ethereum, tokenAddress])\r\n\r\n  useEffect(() => {\r\n    if (account && ethereum) {\r\n      fetchBalance()\r\n      let refreshInterval = setInterval(fetchBalance, 10000)\r\n      return () => clearInterval(refreshInterval)\r\n    }\r\n  }, [account, ethereum, setBalance, tokenAddress])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useTokenBalance","import BigNumber from 'bignumber.js'\r\n\r\nexport const getDisplayBalance = (balance: BigNumber, decimals = 18) => {\r\n  const displayBalance = balance.dividedBy(new BigNumber(10).pow(decimals))\r\n  if (displayBalance.lt(1)) {\r\n    return displayBalance.toPrecision(4)\r\n  } else {\r\n    return displayBalance.toFixed(2)\r\n  }\r\n}\r\n\r\nexport const getFullDisplayBalance = (balance: BigNumber, decimals = 18) => {\r\n  return balance.dividedBy(new BigNumber(10).pow(decimals)).toFixed()\r\n}","import BigNumber from 'bignumber.js/bignumber';\r\n\r\nexport const SUBTRACT_GAS_LIMIT = 100000;\r\n\r\nconst ONE_MINUTE_IN_SECONDS = new BigNumber(60);\r\nconst ONE_HOUR_IN_SECONDS = ONE_MINUTE_IN_SECONDS.times(60);\r\nconst ONE_DAY_IN_SECONDS = ONE_HOUR_IN_SECONDS.times(24);\r\nconst ONE_YEAR_IN_SECONDS = ONE_DAY_IN_SECONDS.times(365);\r\n\r\nexport const INTEGERS = {\r\n  ONE_MINUTE_IN_SECONDS,\r\n  ONE_HOUR_IN_SECONDS,\r\n  ONE_DAY_IN_SECONDS,\r\n  ONE_YEAR_IN_SECONDS,\r\n  ZERO: new BigNumber(0),\r\n  ONE: new BigNumber(1),\r\n  ONES_31: new BigNumber('4294967295'), // 2**32-1\r\n  ONES_127: new BigNumber('340282366920938463463374607431768211455'), // 2**128-1\r\n  ONES_255: new BigNumber(\r\n    '115792089237316195423570985008687907853269984665640564039457584007913129639935',\r\n  ), // 2**256-1\r\n  INTEREST_RATE_BASE: new BigNumber('1e18'),\r\n};\r\n\r\nexport const PROPOSALSTATUSCODE = {\r\n  CREATED: 0,\r\n  CANCELED: 1,\r\n  QUEUED: 2,\r\n  VOTECAST: 3,\r\n  EXECUTED: 4,\r\n};\r\n\r\nexport const addressMap = {\r\n  uniswapFactory : \"0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95\",\r\n  uniswapFactoryV2: \"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f\",\r\n  UNIRouter : \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\",\r\n\r\n  YFI : \"0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e\",\r\n  YFII : \"0xa1d0E215a23d7030842FC67cE582a6aFa3CCaB83\",\r\n  CRV: \"0xD533a949740bb3306d119CC777fa900bA034cd52\",\r\n  YAM: \"0x0e2298E3B3390e3b945a5456fBf59eCc3f55DA16\",\r\n  WETH : \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\",\r\n  LINK: \"0x514910771AF9Ca656af840dff83E8264EcF986CA\",\r\n  MKR: \"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2\",\r\n  SNX: \"0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F\",\r\n  COMP: \"0xc00e94Cb662C3520282E6f5717214004A7f26888\",\r\n  LEND: \"0x80fB784B7eD66730e8b1DBd9820aFD29931aab03\",\r\n\r\n  YCRV: \"0xdF5e0e81Dff6FAF3A7e52BA697820c5e32D806A8\",\r\n  YCRVUNIV: \"0x4eFdFe92F7528Bd16b95083d7Ba1b247De32F549\",\r\n}\r\n","import {ethers} from 'ethers'\r\n\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport {PROPOSALSTATUSCODE} from '../grap/lib/constants'\r\n\r\nBigNumber.config({\r\n  EXPONENTIAL_AT: 1000,\r\n  DECIMAL_PLACES: 80,\r\n});\r\n\r\nconst GAS_LIMIT = {\r\n  STAKING: {\r\n    DEFAULT: 200000,\r\n    SNX: 850000,\r\n  }\r\n};\r\n\r\nexport const getPoolStartTime = async (poolContract) => {\r\n  return await poolContract.methods.starttime().call()\r\n}\r\n\r\nexport const stake = async (poolContract, amount, account, tokenName) => {\r\n  let now = new Date().getTime() / 1000;\r\n  const gas = GAS_LIMIT.STAKING[tokenName.toUpperCase()] || GAS_LIMIT.STAKING.DEFAULT;\r\n  if (now >= 1597172400) {\r\n    return poolContract.methods\r\n      .stake((new BigNumber(amount).times(new BigNumber(10).pow(18))).toString())\r\n      .send({ from: account, gas })\r\n      .on('transactionHash', tx => {\r\n        console.log(tx)\r\n        return tx.transactionHash\r\n      })\r\n  } else {\r\n    alert(\"pool not active\");\r\n  }\r\n}\r\n\r\nexport const unstake = async (poolContract, amount, account) => {\r\n  let now = new Date().getTime() / 1000;\r\n  if (now >= 1597172400) {\r\n    return poolContract.methods\r\n      .withdraw((new BigNumber(amount).times(new BigNumber(10).pow(18))).toString())\r\n      .send({ from: account, gas: 200000 })\r\n      .on('transactionHash', tx => {\r\n        console.log(tx)\r\n        return tx.transactionHash\r\n      })\r\n  } else {\r\n    alert(\"pool not active\");\r\n  }\r\n}\r\n\r\nexport const harvest = async (poolContract, account) => {\r\n  let now = new Date().getTime() / 1000;\r\n  if (now >= 1597172400) {\r\n    return poolContract.methods\r\n      .getReward()\r\n      .send({ from: account, gas: 400000 })\r\n      .on('transactionHash', tx => {\r\n        console.log(tx)\r\n        return tx.transactionHash\r\n      })\r\n  } else {\r\n    alert(\"pool not active\");\r\n  }\r\n}\r\n\r\nexport const redeem = async (poolContract, account) => {\r\n  let now = new Date().getTime() / 1000;\r\n  if (now >= 1597172400) {\r\n    return poolContract.methods\r\n      .exit()\r\n      .send({ from: account, gas: 200000 })\r\n      .on('transactionHash', tx => {\r\n        console.log(tx)\r\n        return tx.transactionHash\r\n      })\r\n  } else {\r\n    alert(\"pool not active\");\r\n  }\r\n}\r\n\r\nexport const approve = async (tokenContract, poolContract, account) => {\r\n  return tokenContract.methods\r\n    .approve(poolContract.options.address, ethers.constants.MaxUint256)\r\n    .send({ from: account, gas: 80000 })\r\n}\r\n\r\nexport const rebase = async (grap, account) => {\r\n  return grap.contracts.rebaser.methods.rebase().send({ from: account })\r\n}\r\n\r\nexport const getPoolContracts = async (grap) => {\r\n  const pools = Object.keys(grap.contracts)\r\n    .filter(c => c.indexOf('_pool') !== -1)\r\n    .reduce((acc, cur) => {\r\n      const newAcc = { ...acc }\r\n      newAcc[cur] = grap.contracts[cur]\r\n      return newAcc\r\n    }, {})\r\n  return pools\r\n}\r\n\r\nexport const getEarned = async (grap, pool, account) => {\r\n  const scalingFactor = new BigNumber(await grap.contracts.grap.methods.grapsScalingFactor().call())\r\n  const earned = new BigNumber(await pool.methods.earned(account).call())\r\n  return earned.multipliedBy(scalingFactor.dividedBy(new BigNumber(10).pow(18)))\r\n}\r\n\r\nexport const getStaked = async (grap, pool, account) => {\r\n  return grap.toBigN(await pool.methods.balanceOf(account).call())\r\n}\r\n\r\nexport const getCurrentPrice = async (grap) => {\r\n  // FORBROCK: get current GRAP price\r\n  return grap.toBigN(await grap.contracts.rebaser.methods.getCurrentTWAP().call())\r\n}\r\n\r\nexport const getTargetPrice = async (grap) => {\r\n  return grap.toBigN(1).toFixed(2);\r\n}\r\n\r\nexport const getCirculatingSupply = async (grap) => {\r\n  let now = await grap.web3.eth.getBlock('latest');\r\n  let scalingFactor = grap.toBigN(await grap.contracts.grap.methods.grapsScalingFactor().call());\r\n  let starttime = grap.toBigN(await grap.contracts.eth_pool.methods.starttime().call()).toNumber();\r\n  let timePassed = now[\"timestamp\"] - starttime;\r\n  if (timePassed < 0) {\r\n    return 0;\r\n  }\r\n  let grapsDistributed = grap.toBigN(8 * timePassed * 250000 / 625000); //graps from first 8 pools\r\n  let starttimePool2 = grap.toBigN(await grap.contracts.ycrvUNIV_pool.methods.starttime().call()).toNumber();\r\n  timePassed = now[\"timestamp\"] - starttime;\r\n  let pool2Yams = grap.toBigN(timePassed * 1500000 / 625000); // graps from second pool. note: just accounts for first week\r\n  let circulating = pool2Yams.plus(grapsDistributed).times(scalingFactor).div(10**36).toFixed(2)\r\n  return circulating\r\n}\r\n\r\nexport const getNextRebaseTimestamp = async (yam) => {\r\n  try {\r\n    let now = await yam.web3.eth.getBlock('latest').then(res => res.timestamp);\r\n    let interval = 86400; // 24 hours\r\n    let offset = 0; // 0AM utc\r\n    let secondsToRebase = 0;\r\n    if (await yam.contracts.rebaser.methods.rebasingActive().call()) {\r\n      if (now % interval > offset) {\r\n          secondsToRebase = (interval - (now % interval)) + offset;\r\n       } else {\r\n          secondsToRebase = offset - (now % interval);\r\n      }\r\n    } else {\r\n      let twap_init = yam.toBigN(await yam.contracts.rebaser.methods.timeOfTWAPInit().call()).toNumber();\r\n      if (twap_init > 0) {\r\n        let delay = yam.toBigN(await yam.contracts.rebaser.methods.rebaseDelay().call()).toNumber();\r\n        let endTime = twap_init + delay;\r\n        if (endTime % interval > offset) {\r\n            secondsToRebase = (interval - (endTime % interval)) + offset;\r\n         } else {\r\n            secondsToRebase = offset - (endTime % interval);\r\n        }\r\n        return endTime + secondsToRebase;\r\n      } else {\r\n        return now + 13*60*60; // just know that its greater than 12 hours away\r\n      }\r\n    }\r\n    return now + secondsToRebase\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport const getTotalSupply = async (grap) => {\r\n  return await grap.contracts.grap.methods.totalSupply().call();\r\n}\r\n\r\nexport const getStats = async (grap) => {\r\n  const curPrice = await getCurrentPrice(grap)\r\n  const circSupply = await getCirculatingSupply(grap)\r\n  const nextRebase = await getNextRebaseTimestamp(grap)\r\n  const targetPrice = await getTargetPrice(grap)\r\n  const totalSupply = await getTotalSupply(grap)\r\n  return {\r\n    circSupply,\r\n    curPrice,\r\n    nextRebase,\r\n    targetPrice,\r\n    totalSupply\r\n  }\r\n}\r\n\r\n\r\n// gov\r\nexport const getProposals = async (grap) => {\r\n  let proposals = []\r\n  const filter = {\r\n    fromBlock: 0,\r\n    toBlock: 'latest',\r\n  }\r\n  const events = await grap.contracts.gov.getPastEvents(\"allEvents\", filter)\r\n  for (let i = 0; i < events.length; i++) {\r\n    const event = events[i]\r\n    let index = 0;\r\n    if (event.removed === false) {\r\n      switch (event.event) {\r\n        case \"ProposalCreated\":\r\n          proposals.push(\r\n            {\r\n              id: event.returnValues.id,\r\n              proposer: event.returnValues.proposer,\r\n              description: event.returnValues.description,\r\n              startBlock: Number(event.returnValues.startBlock),\r\n              endBlock: Number(event.returnValues.endBlock),\r\n              targets: event.returnValues.targets,\r\n              values: event.returnValues.values,\r\n              signatures: event.returnValues.signatures,\r\n              status: PROPOSALSTATUSCODE.CREATED,\r\n              transactionHash: event.transactionHash\r\n            }\r\n          )\r\n          break\r\n        // TODO\r\n        case \"ProposalCanceled\":\r\n          index = proposals.findIndex((proposal) => proposal.id === event.returnValues.id)\r\n          proposals[index].status = PROPOSALSTATUSCODE.CANCELED\r\n          break\r\n        case \"ProposalQueued\":\r\n          index = proposals.findIndex((proposal) => proposal.id === event.returnValues.id)\r\n          proposals[index].status = PROPOSALSTATUSCODE.QUEUED\r\n          break\r\n        case \"VoteCast\":\r\n            break\r\n        case \"ProposalExecuted\":\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    }\r\n  }\r\n  proposals.sort((a,b) => Number(b.endBlock) - Number(b.endBlock))\r\n  return proposals\r\n}\r\n\r\nexport const getProposal = async (grap, id) => {\r\n  const proposals = await getProposals(grap)\r\n  const proposal = proposals.find(p => p.id === id )\r\n  return proposal\r\n}\r\n\r\nexport const getProposalStatus = async (grap, id) => {\r\n  const proposalStatus = (await grap.contracts.gov.methods.proposals(id).call())\r\n  return proposalStatus\r\n}\r\n\r\nexport const getQuorumVotes = async (grap) => {\r\n  return new BigNumber(await grap.contracts.gov.methods.quorumVotes().call()).div(10**6)\r\n}\r\n\r\nexport const getProposalThreshold = async (grap) => {\r\n  return new BigNumber(await grap.contracts.gov.methods.proposalThreshold().call()).div(10**6)\r\n}\r\n\r\nexport const getCurrentVotes = async (grap, account) => {\r\n  return grap.toBigN(await grap.contracts.grap.methods.getCurrentVotes(account).call()).div(10**6)\r\n}\r\n\r\nexport const delegate = async (grap, account, from) => {\r\n  return grap.contracts.grap.methods.delegate(account).send({from: from, gas: 320000 })\r\n}\r\n\r\nexport const castVote = async (grap, id, support, from) => {\r\n  return grap.contracts.gov.methods.castVote(id, support).send({from: from, gas: 320000 })\r\n}\r\n","export const ConfirmationType = {\r\n  Hash: 0,\r\n  Confirmed: 1,\r\n  Both: 2,\r\n  Simulate: 3,\r\n}\r\n","import BigNumber from 'bignumber.js/bignumber';\r\nimport Web3 from 'web3';\r\nimport * as Types from \"./types.js\";\r\nimport { SUBTRACT_GAS_LIMIT, addressMap } from './constants.js';\r\n\r\nimport ERC20Json from '../clean_build/contracts/IERC20.json';\r\nimport GRAPJson from '../clean_build/contracts/GRAPDelegator.json';\r\nimport GRAPRebaserJson from '../clean_build/contracts/GRAPRebaser.json';\r\nimport GRAPReservesJson from '../clean_build/contracts/GRAPReserves.json';\r\nimport GRAPGovJson from '../clean_build/contracts/GovernorAlpha.json';\r\nimport GRAPTimelockJson from '../clean_build/contracts/Timelock.json';\r\nimport WETHJson from './weth.json';\r\nimport CRVJson from './crv.json';\r\nimport UNIFactJson from './unifact2.json';\r\nimport UNIPairJson from './uni2.json';\r\nimport UNIRouterJson from './uniR.json';\r\n\r\n// basic pool\r\nimport WETHPoolJson from '../clean_build/contracts/GRAPETHPool.json';\r\nimport YAMPoolJson from '../clean_build/contracts/GRAPYAMPool.json';\r\nimport YFIPoolJson from '../clean_build/contracts/GRAPYFIPool.json';\r\nimport YFIIPoolJson from '../clean_build/contracts/GRAPYFIIPool.json';\r\nimport MKRPoolJson from '../clean_build/contracts/GRAPMKRPool.json';\r\nimport LENDPoolJson from '../clean_build/contracts/GRAPLENDPool.json';\r\nimport COMPPoolJson from '../clean_build/contracts/GRAPCOMPPool.json';\r\nimport CRVPoolJson from '../clean_build/contracts/GRAPCRVPool.json';\r\nimport LINKPoolJson from '../clean_build/contracts/GRAPLINKPool.json';\r\nimport SNXPoolJson from '../clean_build/contracts/GRAPSNXPool.json';\r\n\r\n// uniswap pool\r\nimport IncJson from '../clean_build/contracts/GRAPIncentivizer.json';\r\n\r\nexport class Contracts {\r\n  constructor(\r\n    provider,\r\n    networkId,\r\n    web3,\r\n    options\r\n  ) {\r\n    this.web3 = web3;\r\n    this.defaultConfirmations = options.defaultConfirmations;\r\n    this.autoGasMultiplier = options.autoGasMultiplier || 1.5;\r\n    this.confirmationType = options.confirmationType || Types.ConfirmationType.Confirmed;\r\n    this.defaultGas = options.defaultGas;\r\n    this.defaultGasPrice = options.defaultGasPrice;\r\n\r\n    this.uni_pair = new this.web3.eth.Contract(UNIPairJson);\r\n    this.uni_router = new this.web3.eth.Contract(UNIRouterJson);\r\n    this.uni_fact = new this.web3.eth.Contract(UNIFactJson);\r\n\r\n    this.eth_pool = new this.web3.eth.Contract(WETHPoolJson.abi);\r\n    // this.weth_pool = this.eth_pool;\r\n    this.yfi_pool = new this.web3.eth.Contract(YFIPoolJson.abi);\r\n    this.yfii_pool = new this.web3.eth.Contract(YFIIPoolJson.abi);\r\n    this.yam_pool = new this.web3.eth.Contract(YAMPoolJson.abi);\r\n    this.crv_pool = new this.web3.eth.Contract(CRVPoolJson.abi);\r\n    this.comp_pool = new this.web3.eth.Contract(COMPPoolJson.abi);\r\n    this.link_pool = new this.web3.eth.Contract(LINKPoolJson.abi);\r\n    this.lend_pool = new this.web3.eth.Contract(LENDPoolJson.abi);\r\n    this.mkr_pool = new this.web3.eth.Contract(MKRPoolJson.abi);\r\n    this.snx_pool = new this.web3.eth.Contract(SNXPoolJson.abi);\r\n\r\n    this.ycrvUNIV_pool = new this.web3.eth.Contract(IncJson.abi);\r\n    // this.uni_lp_pool = this.ycrvUNIV_pool;\r\n\r\n    this.yfi = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.yam = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.crv = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.grap = new this.web3.eth.Contract(GRAPJson.abi);\r\n    this.comp = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.yam = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.link = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.lend = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.mkr = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.yfii = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.snx = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.ycrv = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.erc20 = new this.web3.eth.Contract(ERC20Json.abi);\r\n\r\n    this.ycrvUNIV = new this.web3.eth.Contract(ERC20Json.abi);\r\n    this.uni_lp = this.ycrvUNIV;\r\n\r\n    this.rebaser = new this.web3.eth.Contract(GRAPRebaserJson.abi);\r\n    this.reserves = new this.web3.eth.Contract(GRAPReservesJson.abi);\r\n    this.gov = new this.web3.eth.Contract(GRAPGovJson.abi);\r\n    this.timelock = new this.web3.eth.Contract(GRAPTimelockJson.abi);\r\n    this.weth = new this.web3.eth.Contract(WETHJson);\r\n    this.setProvider(provider, networkId);\r\n    this.setDefaultAccount(this.web3.eth.defaultAccount);\r\n  }\r\n\r\n\r\n  setProvider(\r\n    provider,\r\n    networkId\r\n  ) {\r\n    this.grap.setProvider(provider);\r\n    this.rebaser.setProvider(provider);\r\n    this.reserves.setProvider(provider);\r\n    this.gov.setProvider(provider);\r\n    this.timelock.setProvider(provider);\r\n    const contracts = [\r\n      { contract: this.grap, json: GRAPJson },\r\n      { contract: this.rebaser, json: GRAPRebaserJson },\r\n      { contract: this.reserves, json: GRAPReservesJson },\r\n      { contract: this.gov, json: GRAPGovJson },\r\n      { contract: this.timelock, json: GRAPTimelockJson },\r\n      { contract: this.eth_pool, json: WETHPoolJson },\r\n      { contract: this.yfi_pool, json: YFIPoolJson },\r\n      { contract: this.yfii_pool, json: YFIIPoolJson },\r\n      { contract: this.yam_pool, json: YAMPoolJson },\r\n      { contract: this.crv_pool, json: CRVPoolJson },\r\n      { contract: this.mkr_pool, json: MKRPoolJson },\r\n      { contract: this.snx_pool, json: SNXPoolJson },\r\n      { contract: this.lend_pool, json: LENDPoolJson },\r\n      { contract: this.link_pool, json: LINKPoolJson },\r\n      { contract: this.comp_pool, json: COMPPoolJson },\r\n      { contract: this.ycrvUNIV_pool, json: IncJson },\r\n    ]\r\n\r\n    contracts.forEach(contract => this.setContractProvider(\r\n        contract.contract,\r\n        contract.json,\r\n        provider,\r\n        networkId,\r\n      ),\r\n    );\r\n    this.yfi.options.address = addressMap[\"YFI\"];\r\n    this.yfii.options.address = addressMap[\"YFII\"];\r\n    this.crv.options.address = addressMap[\"CRV\"];\r\n    this.yam.options.address = addressMap[\"YAM\"];\r\n    this.weth.options.address = addressMap[\"WETH\"];\r\n    this.comp.options.address = addressMap[\"COMP\"];\r\n    this.link.options.address = addressMap[\"LINK\"];\r\n    this.lend.options.address = addressMap[\"LEND\"];\r\n    this.mkr.options.address = addressMap[\"MKR\"];\r\n    this.snx.options.address = addressMap[\"SNX\"];\r\n    this.ycrv.options.address = addressMap[\"YCRV\"];\r\n    this.ycrvUNIV.options.address = addressMap[\"YCRVUNIV\"];\r\n    this.uni_fact.options.address = addressMap[\"uniswapFactoryV2\"];\r\n    this.uni_router.options.address = addressMap[\"UNIRouter\"];\r\n\r\n    this.pools = [\r\n      {\"tokenAddr\": this.yam.options.address, \"poolAddr\": this.yam_pool.options.address},\r\n      {\"tokenAddr\": this.weth.options.address, \"poolAddr\": this.eth_pool.options.address},\r\n      {\"tokenAddr\": this.yfi.options.address, \"poolAddr\": this.yfi_pool.options.address},\r\n      {\"tokenAddr\": this.yfii.options.address, \"poolAddr\": this.yfii_pool.options.address},\r\n      {\"tokenAddr\": this.crv.options.address, \"poolAddr\": this.crv_pool.options.address},\r\n      {\"tokenAddr\": this.comp.options.address, \"poolAddr\": this.comp_pool.options.address},\r\n      {\"tokenAddr\": this.link.options.address, \"poolAddr\": this.link_pool.options.address},\r\n      {\"tokenAddr\": this.lend.options.address, \"poolAddr\": this.lend_pool.options.address},\r\n      {\"tokenAddr\": this.mkr.options.address, \"poolAddr\": this.mkr_pool.options.address},\r\n      {\"tokenAddr\": this.snx.options.address, \"poolAddr\": this.snx_pool.options.address},\r\n      {\"tokenAddr\": this.ycrvUNIV.options.address, \"poolAddr\": this.ycrvUNIV_pool.options.address},\r\n    ]\r\n  }\r\n\r\n  setDefaultAccount(\r\n    account\r\n  ) {\r\n    this.yfi.options.from = account;\r\n    this.crv.options.from = account;\r\n    this.grap.options.from = account;\r\n    this.weth.options.from = account;\r\n  }\r\n\r\n  async callContractFunction(\r\n    method,\r\n    options\r\n  ) {\r\n    const { confirmations, confirmationType, autoGasMultiplier, ...txOptions } = options;\r\n\r\n    if (!this.blockGasLimit) {\r\n      await this.setGasLimit();\r\n    }\r\n\r\n    if (!txOptions.gasPrice && this.defaultGasPrice) {\r\n      txOptions.gasPrice = this.defaultGasPrice;\r\n    }\r\n\r\n    if (confirmationType === Types.ConfirmationType.Simulate || !options.gas) {\r\n      let gasEstimate;\r\n      if (this.defaultGas && confirmationType !== Types.ConfirmationType.Simulate) {\r\n        txOptions.gas = this.defaultGas;\r\n      } else {\r\n        try {\r\n          console.log(\"estimating gas\");\r\n          gasEstimate = await method.estimateGas(txOptions);\r\n        } catch (error) {\r\n          const data = method.encodeABI();\r\n          const { from, value } = options;\r\n          const to = method._parent._address;\r\n          error.transactionData = { from, value, data, to };\r\n          throw error;\r\n        }\r\n\r\n        const multiplier = autoGasMultiplier || this.autoGasMultiplier;\r\n        const totalGas = Math.floor(gasEstimate * multiplier);\r\n        txOptions.gas = totalGas < this.blockGasLimit ? totalGas : this.blockGasLimit;\r\n      }\r\n\r\n      if (confirmationType === Types.ConfirmationType.Simulate) {\r\n        let g = txOptions.gas;\r\n        return { gasEstimate, g };\r\n      }\r\n    }\r\n\r\n    if (txOptions.value) {\r\n      txOptions.value = new BigNumber(txOptions.value).toFixed(0);\r\n    } else {\r\n      txOptions.value = '0';\r\n    }\r\n\r\n    const promi = method.send(txOptions);\r\n\r\n    const OUTCOMES = {\r\n      INITIAL: 0,\r\n      RESOLVED: 1,\r\n      REJECTED: 2,\r\n    };\r\n\r\n    let hashOutcome = OUTCOMES.INITIAL;\r\n    let confirmationOutcome = OUTCOMES.INITIAL;\r\n\r\n    const t = confirmationType !== undefined ? confirmationType : this.confirmationType;\r\n\r\n    if (!Object.values(Types.ConfirmationType).includes(t)) {\r\n      throw new Error(`Invalid confirmation type: ${t}`);\r\n    }\r\n\r\n    let hashPromise;\r\n    let confirmationPromise;\r\n\r\n    if (t === Types.ConfirmationType.Hash || t === Types.ConfirmationType.Both) {\r\n      hashPromise = new Promise(\r\n        (resolve, reject) => {\r\n          promi.on('error', (error) => {\r\n            if (hashOutcome === OUTCOMES.INITIAL) {\r\n              hashOutcome = OUTCOMES.REJECTED;\r\n              reject(error);\r\n              const anyPromi = promi ;\r\n              anyPromi.off();\r\n            }\r\n          });\r\n\r\n          promi.on('transactionHash', (txHash) => {\r\n            if (hashOutcome === OUTCOMES.INITIAL) {\r\n              hashOutcome = OUTCOMES.RESOLVED;\r\n              resolve(txHash);\r\n              if (t !== Types.ConfirmationType.Both) {\r\n                const anyPromi = promi ;\r\n                anyPromi.off();\r\n              }\r\n            }\r\n          });\r\n        },\r\n      );\r\n    }\r\n\r\n    if (t === Types.ConfirmationType.Confirmed || t === Types.ConfirmationType.Both) {\r\n      confirmationPromise = new Promise(\r\n        (resolve, reject) => {\r\n          promi.on('error', (error) => {\r\n            if (\r\n              (t === Types.ConfirmationType.Confirmed || hashOutcome === OUTCOMES.RESOLVED)\r\n              && confirmationOutcome === OUTCOMES.INITIAL\r\n            ) {\r\n              confirmationOutcome = OUTCOMES.REJECTED;\r\n              reject(error);\r\n              const anyPromi = promi ;\r\n              anyPromi.off();\r\n            }\r\n          });\r\n\r\n          const desiredConf = confirmations || this.defaultConfirmations;\r\n          if (desiredConf) {\r\n            promi.on('confirmation', (confNumber, receipt) => {\r\n              if (confNumber >= desiredConf) {\r\n                if (confirmationOutcome === OUTCOMES.INITIAL) {\r\n                  confirmationOutcome = OUTCOMES.RESOLVED;\r\n                  resolve(receipt);\r\n                  const anyPromi = promi ;\r\n                  anyPromi.off();\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            promi.on('receipt', (receipt) => {\r\n              confirmationOutcome = OUTCOMES.RESOLVED;\r\n              resolve(receipt);\r\n              const anyPromi = promi ;\r\n              anyPromi.off();\r\n            });\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    if (t === Types.ConfirmationType.Hash) {\r\n      const transactionHash = await hashPromise;\r\n      if (this.notifier) {\r\n          this.notifier.hash(transactionHash)\r\n      }\r\n      return { transactionHash };\r\n    }\r\n\r\n    if (t === Types.ConfirmationType.Confirmed) {\r\n      return confirmationPromise;\r\n    }\r\n\r\n    const transactionHash = await hashPromise;\r\n    if (this.notifier) {\r\n        this.notifier.hash(transactionHash)\r\n    }\r\n    return {\r\n      transactionHash,\r\n      confirmation: confirmationPromise,\r\n    };\r\n  }\r\n\r\n  async callConstantContractFunction(\r\n    method,\r\n    options\r\n  ) {\r\n    const m2 = method;\r\n    const { blockNumber, ...txOptions } = options;\r\n    return m2.call(txOptions, blockNumber);\r\n  }\r\n\r\n  async setGasLimit() {\r\n    const block = await this.web3.eth.getBlock('latest');\r\n    this.blockGasLimit = block.gasLimit - SUBTRACT_GAS_LIMIT;\r\n  }\r\n\r\n  setContractProvider(\r\n    contract,\r\n    contractJson,\r\n    provider,\r\n    networkId,\r\n  ){\r\n    contract.setProvider(provider);\r\n    try {\r\n      contract.options.address = contractJson.networks[networkId]\r\n        && contractJson.networks[networkId].address;\r\n    } catch (error) {\r\n      // console.log(error)\r\n    }\r\n  }\r\n}\r\n","import * as Types from './types.js';\r\n\r\nexport class Account {\r\n  constructor(\r\n    contracts,\r\n    address\r\n  ) {\r\n    this.contracts = contracts;\r\n    this.accountInfo = address;\r\n    this.type = \"\";\r\n    this.allocation = [];\r\n    this.balances = {};\r\n    this.status = \"\";\r\n    this.approvals = {};\r\n    this.walletInfo = {};\r\n  }\r\n\r\n  async getGRAPWalletBalance() {\r\n    this.walletInfo[\"DAI\"] = await this.contracts.grap.methods.balanceOf(this.accountInfo).call();\r\n    return this.walletInfo[\"DAI\"]\r\n  }\r\n\r\n  async getYCRVWalletBalance() {\r\n    this.walletInfo[\"YCRV\"] = await this.contracts.ycrv.methods.balanceOf(this.accountInfo).call();\r\n    return this.walletInfo[\"YCRV\"]\r\n  }\r\n\r\n  async getYFIWalletBalance() {\r\n    this.walletInfo[\"YFI\"] = await this.contracts.yfi.methods.balanceOf(this.accountInfo).call();\r\n    return this.walletInfo[\"YFI\"]\r\n  }\r\n\r\n  async getUNIAmplWalletBalance() {\r\n    this.walletInfo[\"UNIAmpl\"] = await this.contracts.UNIAmpl.methods.balanceOf(this.accountInfo).call();\r\n    return this.walletInfo[\"UNIAmpl\"]\r\n  }\r\n\r\n  async getWETHWalletBalance() {\r\n    this.walletInfo[\"WETH\"] = await this.contracts.weth.methods.balanceOf(this.accountInfo).call();\r\n    return this.walletInfo[\"WETH\"]\r\n  }\r\n\r\n  async getETHWalletBalance() {\r\n    this.walletInfo[\"ETH\"] = await this.contracts.web3.eth.getBalance(this.accountInfo);\r\n    return this.walletInfo[\"ETH\"]\r\n  }\r\n}\r\n","/*\r\n\r\n    Copyright 2019 dYdX Trading Inc.\r\n\r\n    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n    you may not use this file except in compliance with the License.\r\n    You may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    Unless required by applicable law or agreed to in writing, software\r\n    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    See the License for the specific language governing permissions and\r\n    limitations under the License.\r\n\r\n*/\r\n\r\n\r\nconst REQUIRE_MSG = 'Returned error: VM Exception while processing transaction: revert';\r\nconst ASSERT_MSG = 'Returned error: VM Exception while processing transaction: invalid opcode';\r\n\r\nexport class EVM {\r\n  constructor(\r\n    provider,\r\n  ) {\r\n    this.provider = provider;\r\n  }\r\n\r\n  setProvider(\r\n    provider,\r\n  ){\r\n    this.provider = provider;\r\n  }\r\n\r\n  /**\r\n   * Attempts to reset the EVM to its initial state. Useful for testing suites\r\n   *\r\n   * @param provider a valid web3 provider\r\n   * @returns null\r\n   */\r\n   async resetEVM(resetSnapshotId = '0x1') {\r\n    const id = await this.snapshot();\r\n\r\n    if (id !== resetSnapshotId) {\r\n      await this.reset(resetSnapshotId);\r\n    }\r\n  }\r\n\r\n   async reset(id) {\r\n    if (!id) {\r\n      throw new Error('id must be set');\r\n    }\r\n\r\n    await this.callJsonrpcMethod('evm_revert', [id]);\r\n\r\n    return this.snapshot();\r\n  }\r\n\r\n   async snapshot() {\r\n    return this.callJsonrpcMethod('evm_snapshot');\r\n  }\r\n\r\n   async evmRevert(id) {\r\n    return this.callJsonrpcMethod('evm_revert', [id]);\r\n  }\r\n\r\n   async stopMining() {\r\n    return this.callJsonrpcMethod('miner_stop');\r\n  }\r\n\r\n   async startMining() {\r\n    return this.callJsonrpcMethod('miner_start');\r\n  }\r\n\r\n   async mineBlock() {\r\n    return this.callJsonrpcMethod('evm_mine');\r\n  }\r\n\r\n   async increaseTime(duration) {\r\n    return this.callJsonrpcMethod('evm_increaseTime', [duration]);\r\n  }\r\n\r\n   async callJsonrpcMethod(method, params) {\r\n    const args= {\r\n      method,\r\n      params,\r\n      jsonrpc: '2.0',\r\n      id: new Date().getTime(),\r\n    };\r\n\r\n    const response = await this.send(args);\r\n\r\n    return response.result;\r\n  }\r\n\r\n   async send(args) {\r\n    return new Promise((resolve, reject) => {\r\n      const callback = (error, val)=> {\r\n        if (error) {\r\n          reject(error);\r\n        } else {\r\n          resolve(val);\r\n        }\r\n      };\r\n\r\n      this.provider.send(\r\n        args,\r\n        callback,\r\n      );\r\n    });\r\n  }\r\n\r\n  // Helper function\r\n  assertCertainError(error, expected_error_msg) {\r\n    // This complication is so that the actual error will appear in truffle test output\r\n    const message = error.message;\r\n    const matchedIndex = message.search(expected_error_msg);\r\n    let matchedString = message;\r\n    if (matchedIndex === 0) {\r\n      matchedString = message.substring(matchedIndex, matchedIndex + expected_error_msg.length);\r\n    }\r\n    expect(matchedString).toEqual(expected_error_msg);\r\n  }\r\n\r\n  // For solidity function calls that violate require()\r\n  async expectThrow(promise, reason) {\r\n    try {\r\n      await promise;\r\n      throw new Error('Did not throw');\r\n    } catch (e) {\r\n      this.assertCertainError(e, REQUIRE_MSG);\r\n      if (reason && process.env.COVERAGE !== 'true') {\r\n        this.assertCertainError(e, `${REQUIRE_MSG} ${reason}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  // For solidity function calls that violate assert()\r\n  async expectAssertFailure(promise) {\r\n    try {\r\n      await promise;\r\n      throw new Error('Did not throw');\r\n    } catch (e) {\r\n      this.assertCertainError(e, ASSERT_MSG);\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n","import Web3 from 'web3';\r\nimport BigNumber from 'bignumber.js'\r\nimport {\r\n  Contracts\r\n} from './lib/contracts.js';\r\nimport {\r\n  Account\r\n} from './lib/accounts.js';\r\nimport {\r\n  EVM\r\n} from \"./lib/evm.js\";\r\n\r\nconst oneEther = 1000000000000000000;\r\n\r\nexport class Grap {\r\n  constructor(\r\n    provider,\r\n    networkId,\r\n    testing,\r\n    options\r\n  ) {\r\n    var realProvider;\r\n\r\n    if (typeof provider === 'string') {\r\n      if (provider.includes(\"wss\")) {\r\n        realProvider = new Web3.providers.WebsocketProvider(\r\n          provider,\r\n          options.ethereumNodeTimeout || 10000,\r\n        );\r\n      } else {\r\n        realProvider = new Web3.providers.HttpProvider(\r\n          provider,\r\n          options.ethereumNodeTimeout || 10000,\r\n        );\r\n      }\r\n    } else {\r\n      realProvider = provider;\r\n    }\r\n\r\n    this.web3 = new Web3(realProvider);\r\n    if (testing) {\r\n      this.testing = new EVM(realProvider);\r\n      this.snapshot = this.testing.snapshot()\r\n    }\r\n\r\n    if (options.defaultAccount) {\r\n      this.web3.eth.defaultAccount = options.defaultAccount;\r\n    }\r\n    this.contracts = new Contracts(realProvider, networkId, this.web3, options);\r\n    this.accounts = [];\r\n    this.markets = [];\r\n    this.prices = {};\r\n    this.allocations = {};\r\n    this.rates = {};\r\n    this.aprs = {};\r\n    this.poolWeis = {};\r\n    this.platformInfo = {};\r\n  }\r\n\r\n  async resetEVM() {\r\n    this.testing.resetEVM(this.snapshot);\r\n  }\r\n\r\n  addAccount(address, number) {\r\n    this.accounts.push(new Account(this.contracts, address, number));\r\n  }\r\n\r\n  setProvider(\r\n    provider,\r\n    networkId\r\n  ) {\r\n    this.web3.setProvider(provider);\r\n    this.contracts.setProvider(provider, networkId);\r\n    this.operation.setNetworkId(networkId);\r\n  }\r\n\r\n  setDefaultAccount(\r\n    account\r\n  ) {\r\n    this.web3.eth.defaultAccount = account;\r\n    this.contracts.setDefaultAccount(account);\r\n  }\r\n\r\n  getDefaultAccount() {\r\n    return this.web3.eth.defaultAccount;\r\n  }\r\n\r\n  loadAccount(account) {\r\n    const newAccount = this.web3.eth.accounts.wallet.add(\r\n      account.privateKey,\r\n    );\r\n\r\n    if (\r\n      !newAccount ||\r\n      (\r\n        account.address &&\r\n        account.address.toLowerCase() !== newAccount.address.toLowerCase()\r\n      )\r\n    ) {\r\n      throw new Error(`Loaded account address mismatch.\r\n        Expected ${account.address}, got ${newAccount ? newAccount.address : null}`);\r\n    }\r\n  }\r\n\r\n  toBigN(a) {\r\n    return BigNumber(a);\r\n  }\r\n\r\n  getContracts() {\r\n    return this.contracts;\r\n  }\r\n}\r\n","import Web3 from 'web3';\r\nimport BigNumber from 'bignumber.js/bignumber';\r\n\r\nBigNumber.config({\r\n  EXPONENTIAL_AT: 1000,\r\n  DECIMAL_PLACES: 80,\r\n});\r\n\r\nexport { Grap } from './Grap.js';\r\nexport {\r\n  Web3,\r\n  BigNumber,\r\n};\r\n","import React, { createContext, useEffect, useState } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { Grap } from '../../grap'\r\n\r\nexport interface GrapContext {\r\n  grap?: typeof Grap\r\n}\r\n\r\nexport const Context = createContext<GrapContext>({\r\n  grap: undefined,\r\n})\r\n\r\ndeclare global {\r\n  interface Window {\r\n    grapsauce: any\r\n  }\r\n}\r\n\r\nconst GrapProvider: React.FC = ({ children }) => {\r\n  const { ethereum } = useWallet()\r\n  const [grap, setGrap] = useState<any>()\r\n\r\n  useEffect(() => {\r\n    if (ethereum) {\r\n      const grapLib = new Grap(\r\n        ethereum,\r\n        \"1\",\r\n        false, {\r\n          defaultAccount: \"\",\r\n          defaultConfirmations: 1,\r\n          autoGasMultiplier: 1.5,\r\n          testing: false,\r\n          defaultGas: \"6000000\",\r\n          defaultGasPrice: \"1000000000000\",\r\n          accounts: [],\r\n          ethereumNodeTimeout: 10000\r\n        }\r\n      )\r\n      setGrap(grapLib)\r\n      window.grapsauce = grapLib\r\n    }\r\n  }, [ethereum])\r\n\r\n  return (\r\n    <Context.Provider value={{ grap }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default GrapProvider\r\n","import { useContext } from 'react'\r\nimport { Context } from '../contexts/GrapProvider'\r\n\r\nconst useGrap = () => {\r\n  const { grap } = useContext(Context)\r\n  return grap\r\n}\r\n\r\nexport default useGrap","import { useCallback } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { delegate } from '../grapUtils'\r\nimport useGrap from './useGrap'\r\n\r\nconst useDelegate = (address?: string) => {\r\n  const { account } = useWallet()\r\n  const grap = useGrap()\r\n\r\n  const handleDelegate = useCallback(async () => {\r\n    const txHash = await delegate(grap ,address || account, account)\r\n    console.log(txHash)\r\n  }, [account, address])\r\n\r\n  return { onDelegate: handleDelegate }\r\n}\r\n\r\nexport default useDelegate","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface CardIconProps {\r\n  children?: React.ReactNode,\r\n}\r\n\r\nconst CardIcon: React.FC<CardIconProps> = ({ children }) => (\r\n  <StyledCardIcon>\r\n    {children}\r\n  </StyledCardIcon>\r\n)\r\n\r\nconst StyledCardIcon = styled.div`\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  font-size: 36px;\r\n  height: 80px;\r\n  width: 80px;\r\n  border-radius: 40px;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  box-shadow: inset 4px 4px 8px ${props => props.theme.color.grey[300]},\r\n    inset -6px -6px 12px ${props => props.theme.color.grey[100]};\r\n  margin: 0 auto ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nexport default CardIcon","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface LabelProps {\r\n  text?: string,\r\n}\r\n\r\nconst Label: React.FC<LabelProps> = ({ text }) => (\r\n  <StyledLabel>{text}</StyledLabel>\r\n)\r\n\r\nconst StyledLabel = styled.div`\r\n  color: ${props => props.theme.color.grey[400]};\r\n`\r\n\r\nexport default Label","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Card: React.FC = ({ children }) => (\r\n  <StyledCard>\r\n    {children}\r\n  </StyledCard>\r\n)\r\n\r\nconst StyledCard = styled.div`\r\n  background: ${props => props.theme.color.grey[200]};\r\n  border: 1px solid ${props => props.theme.color.grey[300]}ff;\r\n  border-radius: 12px;\r\n  box-shadow: inset 1px 1px 0px ${props => props.theme.color.grey[100]};\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n`\r\n\r\nexport default Card","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst CardContent: React.FC = ({ children }) => (\r\n  <StyledCardContent>\r\n    {children}\r\n  </StyledCardContent>\r\n)\r\n\r\nconst StyledCardContent = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  padding: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nexport default CardContent","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Card from '../Card'\r\nimport CardContent from '../CardContent'\r\nimport Container from '../Container'\r\n\r\nexport interface ModalProps {\r\n  onDismiss?: () => void,\r\n}\r\n\r\nconst Modal: React.FC = ({ children }) => {\r\n  return (\r\n    <Container size=\"sm\">\r\n      <StyledModal>\r\n          <Card>\r\n            <CardContent>\r\n              {children}\r\n            </CardContent>\r\n          </Card>\r\n      </StyledModal>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst StyledModal = styled.div`\r\n  border-radius: 12px;\r\n  box-shadow: 24px 24px 48px -24px ${props => props.theme.color.grey[600]};\r\n  position: relative;\r\n`\r\n\r\nexport default Modal","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface ModalTitleProps {\r\n  text?: string\r\n}\r\n\r\nconst ModalTitle: React.FC<ModalTitleProps> = ({ text }) => (\r\n  <StyledModalTitle>\r\n    {text}\r\n  </StyledModalTitle>\r\n)\r\n\r\nconst StyledModalTitle = styled.div`\r\n  align-items: center;\r\n  color: ${props => props.theme.color.grey[600]};\r\n  display: flex;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  height: ${props => props.theme.topBarSize}px;\r\n  justify-content: center;\r\n  margin-top: ${props => -props.theme.spacing[4]}px;\r\n`\r\n\r\nexport default ModalTitle","import React, { useCallback, useEffect, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { grap as grapAddress } from '../../../constants/tokenAddresses'\r\nimport useTokenBalance from '../../../hooks/useTokenBalance'\r\nimport { getDisplayBalance } from '../../../utils/formatBalance'\r\n\r\nimport { getCurrentVotes, getProposalThreshold } from '../../../grapUtils'\r\nimport useGrap from '../../../hooks/useGrap'\r\nimport useDelegate from '../../../hooks/useDelegate'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport Button from '../../Button'\r\nimport CardIcon from '../../CardIcon'\r\nimport IconButton from '../../IconButton'\r\nimport { AddIcon, RemoveIcon } from '../../icons'\r\nimport Label from '../../Label'\r\nimport Modal, { ModalProps } from '../../Modal'\r\nimport ModalTitle from '../../ModalTitle'\r\n\r\n\r\nconst AccountModal: React.FC<ModalProps> = ({ onDismiss }) => {\r\n  const { account } = useWallet()\r\n  const grap = useGrap()\r\n\r\n  const [votes, setvotes] = useState(\"\")\r\n  const [devsVotes, setdevsVotes] = useState(\"\")\r\n  const [proposalThreshold, setProposalThreshold] = useState(\"\")\r\n\r\n  const handleSignOutClick = useCallback(() => {\r\n    onDismiss!()\r\n  }, [onDismiss])\r\n\r\n  const onDelegateSelf = useDelegate().onDelegate\r\n  const onDelegateDev = useDelegate(\"0x00007569643bc1709561ec2E86F385Df3759e5DD\").onDelegate\r\n\r\n  const grapBalance = useTokenBalance(grapAddress)\r\n  const displayBalance = useMemo(() => {\r\n    return getDisplayBalance(grapBalance)\r\n  }, [grapBalance])\r\n\r\n  const fetchVotes = useCallback(async () => {\r\n    const votes = await getCurrentVotes(grap, account)\r\n    const devsVotes = await getCurrentVotes(grap, \"0x00007569643bc1709561ec2E86F385Df3759e5DD\")\r\n    const proposalThreshold = await getProposalThreshold(grap);\r\n    setvotes(getDisplayBalance(votes))\r\n    setdevsVotes(getDisplayBalance(devsVotes))\r\n    setProposalThreshold(getDisplayBalance(proposalThreshold))\r\n  }, [account, grap])\r\n\r\n  useEffect(() => {\r\n    if (grap) {\r\n      fetchVotes()\r\n    }\r\n  }, [fetchVotes, grap])\r\n  \r\n  \r\n  return (\r\n    <Modal>\r\n      <ModalTitle text=\"My Account\" />\r\n\r\n      <StyledBalanceWrapper>\r\n        <CardIcon>🍇</CardIcon>\r\n        <StyledBalance>\r\n          <StyledValue>{displayBalance}</StyledValue>\r\n          <Label text=\"GRAP Balance\" />\r\n        </StyledBalance>\r\n        <StyledBalance>\r\n          <StyledValue>{votes}</StyledValue>\r\n          <Label text=\"Current Votes\" />\r\n        </StyledBalance>\r\n        <StyledBalance>\r\n          <StyledValue>{devsVotes}</StyledValue>\r\n          <Label text=\"Devs Votes\" />\r\n        </StyledBalance>\r\n        <StyledBalance>\r\n          <Label text=\"Proposal threshold is\" />\r\n          <StyledValue>{proposalThreshold}</StyledValue>\r\n        </StyledBalance>\r\n      </StyledBalanceWrapper>\r\n\r\n      <StyledSpacer />\r\n      {votes != \"\" && votes == \"0.000\" &&\r\n        <Label text=\"Not yet?\" /> && \r\n        <Button\r\n          onClick={onDelegateSelf}\r\n          text=\"Setup Vote\"\r\n        />\r\n      }\r\n      <StyledSpacer />\r\n      <Button\r\n        onClick={onDelegateDev}\r\n        text=\"Share votes to Devs\"\r\n      />\r\n      <StyledSpacer />\r\n      <Button\r\n        onClick={handleSignOutClick}\r\n        text=\"Sign out\"\r\n      />\r\n      <StyledSpacer />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n  width: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledValue = styled.div`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n`\r\n\r\nconst StyledBalance = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst StyledBalanceWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: ${props => props.theme.spacing[2]}px;\r\n`\r\n\r\nconst StyledBalanceIcon = styled.div`\r\n  font-size: 36px;\r\n  margin-right: ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nconst StyledBalanceActions = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  margin-top: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nexport default AccountModal\r\n","export const grap = '0xC8D2AB2a6FdEbC25432E54941cb85b55b9f152dB'","import React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport useModal from '../../../hooks/useModal'\r\nimport { formatAddress } from '../../../utils'\r\n\r\nimport Button from '../../Button'\r\n\r\nimport AccountModal from './AccountModal'\r\n\r\ninterface AccountButtonProps {}\r\n\r\nconst AccountButton: React.FC<AccountButtonProps> = (props) => {\r\n  const [onPresentAccountModal] = useModal(<AccountModal />)\r\n  \r\n  const { account, connect } = useWallet()\r\n\r\n  return (\r\n    <StyledAccountButton>\r\n      {!account ? (\r\n        <Button\r\n          onClick={() => connect('injected')}\r\n          size=\"sm\"\r\n          text=\"Unlock Wallet\"\r\n        />\r\n      ) : (\r\n        <Button\r\n          onClick={onPresentAccountModal}\r\n          size=\"sm\"\r\n          text=\"My Wallet\"\r\n        />\r\n      )}\r\n    </StyledAccountButton>\r\n  )\r\n}\r\n\r\nconst StyledAccountButton = styled.div``\r\n\r\nexport default AccountButton","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Nav: React.FC = () => {\r\n  return (\r\n    <StyledNav>\r\n      <StyledLink exact activeClassName=\"active\" to=\"/\">Home</StyledLink>\r\n      <StyledLink exact activeClassName=\"active\" to=\"/farms\">Farms</StyledLink>\r\n      <StyledLink exact activeClassName=\"active\" to=\"/vote\">Vote</StyledLink>\r\n      <StyledLink exact activeClassName=\"active\" to=\"/stats\">Stats</StyledLink>\r\n    </StyledNav>\r\n  )\r\n}\r\n\r\nconst StyledNav = styled.nav`\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst StyledLink = styled(NavLink)`\r\n  color: ${props => props.theme.color.grey[400]};\r\n  font-weight: 700;\r\n  padding-left: ${props => props.theme.spacing[3]}px;\r\n  padding-right: ${props => props.theme.spacing[3]}px;\r\n  text-decoration: none;\r\n  &:hover {\r\n    color: ${props => props.theme.color.grey[500]};\r\n  }\r\n  &.active {\r\n    color: ${props => props.theme.color.primary.main};\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    padding-left: ${props => props.theme.spacing[1]}px;\r\n    padding-right: ${props => props.theme.spacing[1]}px;\r\n  }\r\n\r\n\r\n`\r\n\r\nexport default Nav\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Container from '../Container'\r\nimport IconButton from '../IconButton'\r\nimport Logo from '../Logo'\r\n\r\nimport { MenuIcon } from '../icons'\r\n\r\nimport AccountButton from './components/AccountButton'\r\nimport Nav from './components/Nav'\r\n\r\ninterface TopBarProps {\r\n  onPresentMobileMenu: () => void\r\n}\r\n\r\nconst TopBar: React.FC<TopBarProps> = ({ onPresentMobileMenu }) => {\r\n  return (\r\n    <StyledTopBar>\r\n      <Container size=\"lg\">\r\n        <StyledTopBarInner>\r\n          <StyledLogoWrapper>\r\n            <Logo />\r\n          </StyledLogoWrapper>\r\n          <StyledNavWrapper>\r\n            <Nav />\r\n          </StyledNavWrapper>\r\n          <StyledAccountButtonWrapper>\r\n            <AccountButton />\r\n          </StyledAccountButtonWrapper>\r\n          <StyledMenuButton onClick={onPresentMobileMenu}>\r\n            <MenuIcon />\r\n          </StyledMenuButton>\r\n        </StyledTopBarInner>\r\n      </Container>\r\n    </StyledTopBar>\r\n  )\r\n}\r\n\r\nconst StyledLogoWrapper = styled.div`\r\n  width: 156px;\r\n  @media (max-width: 400px) {\r\n    width: auto;\r\n  }\r\n`\r\n\r\nconst StyledTopBar = styled.div``\r\n\r\nconst StyledTopBarInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  height: ${props => props.theme.topBarSize}px;\r\n  justify-content: space-between;\r\n  max-width: ${props => props.theme.siteWidth}px;\r\n  width: 100%;\r\n`\r\nconst StyledNavWrapper = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n  @media (max-width: 400px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst StyledAccountButtonWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  width: 156px;\r\n  @media (max-width: 400px) {\r\n    justify-content: center;\r\n    width: auto;\r\n  }\r\n`\r\n\r\nconst StyledMenuButton = styled.button`\r\n  background: none;\r\n  border: 0;\r\n  margin: 0;\r\n  outline: 0;\r\n  padding: 0;\r\n  display: none;\r\n  @media (max-width: 400px) {\r\n    align-items: center;\r\n    display: flex;\r\n    height: 44px;\r\n    justify-content: center;\r\n    width: 44px;\r\n  }\r\n`\r\n\r\nexport default TopBar","import { createContext } from 'react'\r\nimport { ProposalsContext } from './types'\r\n\r\nconst context = createContext<ProposalsContext>({\r\n  proposals: []\r\n})\r\n\r\nexport default context","import React, { useCallback, useEffect, useState } from 'react'\r\n\r\nimport useGrap from '../../hooks/useGrap'\r\nimport { getProposals } from '../../grapUtils'\r\n\r\nimport Context from './context'\r\nimport { Proposal } from './types'\r\n\r\n\r\nconst Proposals: React.FC = ({ children }) => {\r\n\r\n  const [proposals, setProposals] = useState<Proposal[]>([])\r\n  const grap = useGrap()\r\n  \r\n  const fetchProposals = useCallback(async () => {\r\n    const propsArr: Proposal[] = await getProposals(grap)\r\n\r\n    setProposals(propsArr)\r\n  }, [grap, setProposals])\r\n\r\n  useEffect(() => {\r\n    if (grap) {\r\n      fetchProposals()\r\n    }\r\n  }, [grap, fetchProposals])\r\n\r\n  return (\r\n    <Context.Provider value={{ proposals }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Proposals\r\n","import { createContext } from 'react'\r\nimport { FarmsContext } from './types'\r\n\r\nconst context = createContext<FarmsContext>({\r\n  farms: []\r\n})\r\n\r\nexport default context","import React, { useCallback, useEffect, useState } from 'react'\r\n\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { grap as grapAddress } from '../../constants/tokenAddresses'\r\nimport useGrap from '../../hooks/useGrap'\r\nimport { getPoolContracts } from '../../grapUtils'\r\n\r\nimport Context from './context'\r\nimport { Farm } from './types'\r\n\r\nconst NAME_FOR_POOL: { [key: string]: string } = {\r\n  eth_pool: 'Weth Homestead',\r\n  yam_pool: 'YAM',\r\n  crv_pool: 'Curvy Fields',\r\n  yfi_pool: 'YFI Farm',\r\n  yfii_pool: 'YFII Farm',\r\n  comp_pool: 'Compounding Hills',\r\n  link_pool: 'Marine Gardens',\r\n  lend_pool: 'Aave Agriculture',\r\n  snx_pool: 'Spartan Grounds',\r\n  mkr_pool: 'Maker Range',\r\n  ycrvUNIV_pool: 'Eternal Lands',\r\n}\r\n\r\nconst ICON_FOR_POOL: { [key: string]: string } = {\r\n  yfi_pool: '🐋',\r\n  yfii_pool: '🦈',\r\n  yam_pool: '🍠',\r\n  eth_pool: '🌎',\r\n  crv_pool: '🚜',\r\n  comp_pool: '💸',\r\n  link_pool: '🔗',\r\n  lend_pool: '🏕️',\r\n  snx_pool: '⚔️',\r\n  mkr_pool: '🐮',\r\n  ycrvUNIV_pool: '🌈',\r\n}\r\n\r\nconst Farms: React.FC = ({ children }) => {\r\n\r\n  const [farms, setFarms] = useState<Farm[]>([])\r\n  const grap = useGrap()\r\n\r\n  const fetchPools = useCallback(async () => {\r\n    const pools: { [key: string]: Contract} = await getPoolContracts(grap)\r\n\r\n    const farmsArr: Farm[] = []\r\n    const poolKeys = Object.keys(pools)\r\n\r\n    for (let i = 0; i < poolKeys.length; i++) {\r\n      const poolKey = poolKeys[i]\r\n      const pool = pools[poolKey]\r\n      let tokenKey = poolKey.replace('_pool', '')\r\n      if (tokenKey === 'eth') {\r\n        tokenKey = 'weth'\r\n      } else if (tokenKey === 'ycrvUNIV') {\r\n        tokenKey = 'uni_lp'\r\n      }\r\n\r\n      const method = pool.methods[tokenKey]\r\n      if (method) {\r\n        try {\r\n          let tokenAddress = ''\r\n          if (tokenKey === 'uni_lp') {\r\n            tokenAddress = '0x4eFdFe92F7528Bd16b95083d7Ba1b247De32F549'\r\n          } else {\r\n            tokenAddress = await method().call()\r\n          }\r\n          farmsArr.push({\r\n            contract: pool,\r\n            name: NAME_FOR_POOL[poolKey],\r\n            depositToken: tokenKey,\r\n            depositTokenAddress: tokenAddress,\r\n            earnToken: 'grap',\r\n            earnTokenAddress: grapAddress,\r\n            icon: ICON_FOR_POOL[poolKey],\r\n            id: tokenKey\r\n          })\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n      }\r\n    }\r\n    setFarms(farmsArr)\r\n  }, [grap, setFarms])\r\n\r\n  useEffect(() => {\r\n    if (grap) {\r\n      fetchPools()\r\n    }\r\n  }, [grap, fetchPools])\r\n\r\n  return (\r\n    <Context.Provider value={{ farms }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Farms\r\n","import { createContext } from 'react'\r\nimport { Transaction, TransactionsMap } from './types'\r\n\r\ninterface TransactionsContext {\r\n  transactions: TransactionsMap,\r\n  onAddTransaction: (tx: Transaction) => void,\r\n}\r\n\r\nexport default createContext<TransactionsContext>({\r\n  transactions: {},\r\n  onAddTransaction: (tx: Transaction) => {},\r\n})","import { TransactionReceipt } from 'web3-core'\r\nimport { Transaction, TransactionsMap } from './types'\r\n\r\nconst ADD_TRANSACTION = 'ADD_TRANSACTION'\r\nconst RECEIVE_TX_RECEIPT = 'RECEIVE_TX_RECEIPT'\r\nconst SET_TRANSACTIONS = 'SET_TRANSACTIONS'\r\n\r\ninterface AddTransactionAction {\r\n  type: typeof ADD_TRANSACTION,\r\n  transaction: Transaction\r\n}\r\n\r\ninterface ReceiveTxReceiptAction {\r\n  type: typeof RECEIVE_TX_RECEIPT,\r\n  txHash: string,\r\n  receipt: TransactionReceipt\r\n}\r\n\r\ninterface SetTransactionsAction {\r\n  type: typeof SET_TRANSACTIONS,\r\n  transactions: TransactionsMap\r\n}\r\n\r\ntype TransactionsActions = AddTransactionAction | ReceiveTxReceiptAction | SetTransactionsAction\r\n\r\nexport interface TransactionsState {\r\n  initialized: boolean,\r\n  transactions: TransactionsMap\r\n}\r\n\r\nexport const addTransaction = (transaction: Transaction): AddTransactionAction => ({\r\n  type: ADD_TRANSACTION,\r\n  transaction,\r\n})\r\n\r\nexport const receiveTxReceipt = (txHash: string, receipt: TransactionReceipt): ReceiveTxReceiptAction => ({\r\n  type: RECEIVE_TX_RECEIPT,\r\n  txHash,\r\n  receipt,\r\n})\r\n\r\nexport const setTransactions = (transactions: TransactionsMap): SetTransactionsAction => ({\r\n  type: SET_TRANSACTIONS,\r\n  transactions,\r\n})\r\n\r\nexport const initialState: TransactionsState = {\r\n  initialized: false,\r\n  transactions: {}\r\n}\r\n\r\nconst reducer = (state: TransactionsState, action: TransactionsActions): TransactionsState => {\r\n  switch (action.type) {\r\n    case ADD_TRANSACTION:\r\n      return {\r\n        ...state,\r\n        transactions: {\r\n          ...state.transactions,\r\n          [action.transaction.hash]: action.transaction,\r\n        }\r\n      }\r\n    case RECEIVE_TX_RECEIPT:\r\n      return {\r\n        ...state,\r\n        transactions: {\r\n          ...state.transactions,\r\n          [action.txHash]: {\r\n            ...state.transactions[action.txHash],\r\n            receipt: action.receipt,\r\n          }\r\n        }\r\n      }\r\n    case SET_TRANSACTIONS:\r\n      return {\r\n        ...state,\r\n        transactions: action.transactions,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer","import React, { useCallback, useEffect, useReducer } from 'react'\r\n\r\nimport Context from './context'\r\nimport reducer, {\r\n  initialState,\r\n  setTransactions,\r\n  addTransaction,\r\n} from './reducer'\r\nimport { Transaction, TransactionsMap } from './types'\r\n\r\nconst TransactionsProvider: React.FC = ({ children }) => {\r\n  const [{ initialized, transactions }, dispatch] = useReducer(reducer, initialState)\r\n\r\n  const handleAddTransaction = useCallback((tx: Transaction) => {\r\n    dispatch(addTransaction(tx))\r\n  }, [dispatch])\r\n\r\n  const fetchTransactions = useCallback(async () => {\r\n    try {\r\n      const txsRaw = localStorage.getItem('transactions')\r\n      const txs = JSON.parse(txsRaw) as TransactionsMap || {}\r\n      dispatch(setTransactions(txs))\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (initialized) {\r\n      localStorage.setItem('transactions', JSON.stringify(transactions))\r\n    }\r\n  }, [initialized, transactions])\r\n\r\n  useEffect(() => {\r\n    fetchTransactions()\r\n  }, [fetchTransactions])\r\n\r\n  return (\r\n    <Context.Provider value={{\r\n      transactions,\r\n      onAddTransaction: handleAddTransaction,\r\n    }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default TransactionsProvider","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Nav: React.FC = () => {\r\n  return (\r\n    <StyledNav>\r\n      <StyledLink href=\"https://github.com/grapfinance/grap-protocol\">Github</StyledLink>\r\n      <StyledLink href=\"https://twitter.com/GrapFinance\">Twitter</StyledLink>\r\n    </StyledNav>\r\n  )\r\n}\r\n\r\nconst StyledNav = styled.nav`\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  color: ${props => props.theme.color.grey[400]};\r\n  padding-left: ${props => props.theme.spacing[3]}px;\r\n  padding-right: ${props => props.theme.spacing[3]}px;\r\n  text-decoration: none;\r\n  &:hover {\r\n    color: ${props => props.theme.color.grey[500]};\r\n  }\r\n`\r\n\r\nexport default Nav\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Nav from './components/Nav'\r\n\r\nconst Footer: React.FC = () => (\r\n  <StyledFooter>\r\n    <StyledFooterInner>\r\n      <Nav />\r\n    </StyledFooterInner>\r\n  </StyledFooter>\r\n)\r\n\r\nconst StyledFooter = styled.footer`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\nconst StyledFooterInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  height: ${props => props.theme.topBarSize}px;\r\n  max-width: ${props => props.theme.siteWidth}px;\r\n  width: 100%;\r\n`\r\n\r\nexport default Footer","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Footer from '../Footer'\r\n\r\nconst Page: React.FC = ({ children }) => (\r\n  <StyledPage>\r\n    <StyledMain>\r\n      {children}\r\n    </StyledMain>\r\n    <Footer />\r\n  </StyledPage>\r\n)\r\n\r\nconst StyledPage = styled.div``\r\n\r\nconst StyledMain = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - ${props => props.theme.topBarSize * 2}px);\r\n`\r\n\r\nexport default Page","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface PageHeaderProps {\r\n  icon: React.ReactNode,\r\n  subtitle?: string,\r\n  title?: string,\r\n}\r\n\r\nconst PageHeader: React.FC<PageHeaderProps> = ({ icon, subtitle, title }) => {\r\n  return (\r\n    <StyledPageHeader>\r\n      <StyledIcon>{icon}</StyledIcon>\r\n      <StyledTitle>{title}</StyledTitle>\r\n      <StyledSubtitle>{subtitle}</StyledSubtitle>\r\n    </StyledPageHeader>\r\n  )\r\n}\r\n\r\nconst StyledPageHeader = styled.div`\r\n  text-align:center;\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-bottom: ${props => props.theme.spacing[6]}px;\r\n  padding-top: ${props => props.theme.spacing[6]}px;\r\n`\r\n\r\nconst StyledIcon = styled.div`\r\n  font-size: 96px;\r\n  height: 108px;\r\n  line-height: 96px;\r\n  text-align: center;\r\n  width: 128px;\r\n`\r\n\r\nconst StyledTitle = styled.h1`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n  margin: 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledSubtitle = styled.h3`\r\n  color: ${props => props.theme.color.grey[400]};\r\n  font-size: 18px;\r\n  font-weight: 400;\r\n  margin: 0;\r\n  padding: 0;\r\n`\r\n\r\nexport default PageHeader","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\ninterface SpacerProps {\r\n  size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nconst Spacer: React.FC<SpacerProps> = ({ size = 'md' }) => {\r\n  const { spacing } = useContext(ThemeContext)\r\n  \r\n  let s: number\r\n  switch (size) {\r\n    case 'lg':\r\n      s = spacing[6]\r\n      break\r\n    case 'sm':\r\n      s = spacing[2]\r\n      break\r\n    case 'md':\r\n    default:\r\n      s = spacing[4]\r\n  }\r\n  \r\n  return (\r\n    <StyledSpacer size={s} />\r\n  )\r\n}\r\n\r\ninterface StyledSpacerProps {\r\n  size: number,\r\n}\r\n\r\nconst StyledSpacer = styled.div<StyledSpacerProps>`\r\n  height: ${props => props.size}px;\r\n  width: ${props => props.size}px;\r\n`\r\n\r\nexport default Spacer","import { useContext } from 'react'\r\nimport { Context as FarmsContext, Farm } from '../contexts/Farms'\r\n\r\nconst useFarm = (id: string): Farm => {\r\n  const { farms } = useContext(FarmsContext)\r\n  const farm = farms.find(farm => farm.id === id)\r\n  return farm\r\n}\r\n\r\nexport default useFarm","import { useCallback } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { redeem } from '../grapUtils'\r\n\r\nconst useRedeem = (poolContract: Contract) => {\r\n  const { account } = useWallet()\r\n\r\n  const handleRedeem = useCallback(async () => {\r\n    const txHash = await redeem(poolContract, account)\r\n    console.log(txHash)\r\n    return txHash\r\n  }, [account, poolContract])\r\n\r\n  return { onRedeem: handleRedeem }\r\n}\r\n\r\nexport default useRedeem","import React from 'react'\r\n\r\nimport styled from 'styled-components'\r\n\r\ninterface ValueProps {\r\n  value: string,\r\n}\r\n\r\nconst Value: React.FC<ValueProps> = ({ value }) => {\r\n  return (\r\n    <StyledValue>{value}</StyledValue>\r\n  )\r\n}\r\n\r\nconst StyledValue = styled.div`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n`\r\n\r\nexport default Value","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { getEarned } from '../grapUtils'\r\nimport useGrap from './useGrap'\r\n\r\nconst useEarnings = (pool: Contract) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account }: { account: string } = useWallet()\r\n  const grap = useGrap()\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await getEarned(grap, pool, account)\r\n    setBalance(new BigNumber(balance))\r\n  }, [account, pool, grap])\r\n\r\n  useEffect(() => {\r\n    if (account && pool && grap) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, pool, setBalance, grap])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useEarnings","import { useCallback } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { harvest } from '../grapUtils'\r\n\r\nconst useReward = (poolContract: Contract) => {\r\n  const { account } = useWallet()\r\n\r\n  const handleReward = useCallback(async () => {\r\n    const txHash = await harvest(poolContract, account)\r\n    console.log(txHash)\r\n    return txHash\r\n  }, [account, poolContract])\r\n\r\n  return { onReward: handleReward }\r\n}\r\n\r\nexport default useReward\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport CardIcon from '../../../components/CardIcon'\r\nimport Label from '../../../components/Label'\r\nimport Value from '../../../components/Value'\r\n\r\nimport useEarnings from '../../../hooks/useEarnings'\r\nimport useReward from '../../../hooks/useReward'\r\n\r\nimport { getDisplayBalance } from '../../../utils/formatBalance'\r\n\r\ninterface HarvestProps {\r\n  poolContract: Contract\r\n}\r\n\r\nconst Harvest: React.FC<HarvestProps> = ({ poolContract }) => {\r\n\r\n  const earnings = useEarnings(poolContract)\r\n  const { onReward } = useReward(poolContract)\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <StyledCardContentInner>\r\n          <StyledCardHeader>\r\n            <CardIcon>🍇</CardIcon>\r\n            <Value value={getDisplayBalance(earnings)} />\r\n            <Label text=\"GRAPs earned\" />\r\n          </StyledCardHeader>\r\n          <StyledCardActions>\r\n            <Button onClick={onReward} text=\"Harvest\" disabled={!earnings.toNumber()} />\r\n          </StyledCardActions>\r\n        </StyledCardContentInner>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: ${props => props.theme.spacing[6]}px;\r\n  width: 100%;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n  width: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\n\r\nexport default Harvest\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\ninterface IconButtonProps {\r\n  children?: React.ReactNode,\r\n  disabled?: boolean,\r\n  onClick?: () => void,\r\n  to?: string\r\n}\r\n\r\nconst IconButton: React.FC<IconButtonProps> = ({ children, disabled, onClick, to }) => {\r\n  return (\r\n    <StyledButton disabled={disabled} onClick={onClick}>\r\n      {!!to ? (\r\n        <StyledLink to={to}>{children}</StyledLink>\r\n      ) : children}\r\n    </StyledButton>\r\n  )\r\n}\r\n\r\ninterface StyledButtonProps {\r\n  disabled?: boolean\r\n}\r\n\r\nconst StyledButton = styled.button<StyledButtonProps>`\r\n  align-items: center;\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  border: 0;\r\n  border-radius: 28px;\r\n  box-shadow: 6px 6px 12px ${props => props.theme.color.grey[300]},\r\n    -12px -12px 24px ${props => props.theme.color.grey[100]}aa;\r\n  color: ${props => !props.disabled ? props.theme.color.primary.main : props.theme.color.grey[400]};\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-weight: 700;\r\n  height: 56px;\r\n  justify-content: center;\r\n  letter-spacing: 1px;\r\n  outline: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  pointer-events: ${props => !props.disabled ? undefined : 'none'};\r\n  text-transform: uppercase;\r\n  width: 56px;\r\n  &:hover {\r\n    background-color: ${props => props.theme.color.grey[100]};\r\n  }\r\n`\r\n\r\nconst StyledLink = styled(Link)`\r\n  align-items: center;\r\n  color: inherit;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 56px;\r\n  justify-content: center;\r\n  margin: 0 ${props => -props.theme.spacing[4]}px;\r\n  padding: 0 ${props => props.theme.spacing[4]}px;\r\n  text-decoration: none;\r\n`\r\n\r\nexport default IconButton","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { getAllowance } from '../utils/erc20'\r\n\r\nconst useAllowance = (tokenContract: Contract, poolContract: Contract) => {\r\n  const [allowance, setAllowance] = useState(new BigNumber(0))\r\n  const { account }: { account: string, ethereum: provider } = useWallet()\r\n\r\n  const fetchAllowance = useCallback(async () => {\r\n    const allowance = await getAllowance(tokenContract, poolContract, account)\r\n    setAllowance(new BigNumber(allowance))\r\n  }, [account, poolContract, tokenContract])\r\n\r\n  useEffect(() => {\r\n    if (account && poolContract && tokenContract) {\r\n      fetchAllowance()\r\n    }\r\n    let refreshInterval = setInterval(fetchAllowance, 10000)\r\n    return () => clearInterval(refreshInterval)\r\n  }, [account, poolContract, tokenContract])\r\n\r\n  return allowance\r\n}\r\n\r\nexport default useAllowance","import { useCallback } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { approve } from '../grapUtils'\r\n\r\nconst useApprove = (tokenContract: Contract, poolContract: Contract) => {\r\n  const { account }: { account: string, ethereum: provider } = useWallet()\r\n\r\n  const handleApprove = useCallback(async () => {\r\n    try {\r\n      const tx = await approve(tokenContract, poolContract, account)\r\n      return tx\r\n    } catch (e) {\r\n      return false\r\n    }\r\n  }, [account, tokenContract, poolContract])\r\n\r\n  return { onApprove: handleApprove }\r\n}\r\n\r\nexport default useApprove","import { useCallback } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { stake } from '../grapUtils'\r\n\r\nconst useStake = (poolContract: Contract, tokenName: string) => {\r\n  const { account } = useWallet()\r\n\r\n  const handleStake = useCallback(async (amount: string) => {\r\n    const txHash = await stake(poolContract, amount, account, tokenName)\r\n    console.log(txHash)\r\n  }, [account, poolContract])\r\n\r\n  return { onStake: handleStake }\r\n}\r\n\r\nexport default useStake","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { getStaked } from '../grapUtils'\r\nimport useGrap from './useGrap'\r\n\r\nconst useStakedBalance = (pool: Contract) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account }: { account: string } = useWallet()\r\n  const grap = useGrap()\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await getStaked(grap, pool, account)\r\n    setBalance(new BigNumber(balance))\r\n  }, [account, pool, grap])\r\n\r\n  useEffect(() => {\r\n    if (account && pool && grap) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, pool, setBalance, grap])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useStakedBalance","import { useCallback } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\nimport { Contract } from \"web3-eth-contract\"\r\n\r\nimport { unstake } from '../grapUtils'\r\n\r\nconst useUnstake = (poolContract: Contract) => {\r\n  const { account } = useWallet()\r\n\r\n  const handleUnstake = useCallback(async (amount: string) => {\r\n    const txHash = await unstake(poolContract, amount, account)\r\n    console.log(txHash)\r\n  }, [account, poolContract])\r\n\r\n  return { onUnstake: handleUnstake }\r\n}\r\n\r\nexport default useUnstake","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst ModalActions: React.FC = ({ children }) => {\r\n  const l = React.Children.toArray(children).length\r\n  return (\r\n    <StyledModalActions>\r\n      {React.Children.map(children, (child, i) => (\r\n        <>\r\n          <StyledModalAction>\r\n            {child}\r\n          </StyledModalAction>\r\n          {i < l - 1 && <StyledSpacer />}\r\n        </>\r\n      ))}\r\n    </StyledModalActions>\r\n  )\r\n}\r\n\r\nconst StyledModalActions = styled.div`\r\n  align-items: center;\r\n  background-color: ${props => props.theme.color.grey[100]}00;\r\n  display: flex;\r\n  height: 96px;\r\n  margin: ${props => props.theme.spacing[4]}px ${props => -props.theme.spacing[4]}px ${props => -props.theme.spacing[4]}px;\r\n  padding: 0 ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledModalAction = styled.div`\r\n  flex: 1;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  width: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nexport default ModalActions","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport interface InputProps {\r\n  endAdornment?: React.ReactNode,\r\n  onChange: (e: React.FormEvent<HTMLInputElement>) => void,\r\n  placeholder?: string,\r\n  startAdornment?: React.ReactNode,\r\n  value: string,\r\n}\r\n\r\nconst Input: React.FC<InputProps> = ({\r\n  endAdornment,\r\n  onChange,\r\n  placeholder,\r\n  startAdornment,\r\n  value,\r\n}) => {\r\n  return (\r\n    <StyledInputWrapper>\r\n      {!!startAdornment && startAdornment}\r\n      <StyledInput placeholder={placeholder} value={value} onChange={onChange} />\r\n      {!!endAdornment && endAdornment}\r\n    </StyledInputWrapper>\r\n  )\r\n}\r\n\r\nconst StyledInputWrapper = styled.div`\r\n  align-items: center;\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  border-radius: ${props => props.theme.borderRadius}px;\r\n  box-shadow: inset 4px 4px 8px ${props => props.theme.color.grey[300]},\r\n    inset -6px -6px 12px ${props => props.theme.color.grey[100]};\r\n  display: flex;\r\n  height: 72px;\r\n  padding: 0 ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nconst StyledInput = styled.input`\r\n  background: none;\r\n  border: 0;\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 18px;\r\n  flex: 1;\r\n  height: 56px;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n`\r\n\r\nexport default Input","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Button from '../Button'\r\nimport Input, { InputProps } from '../Input'\r\n\r\ninterface TokenInputProps extends InputProps {\r\n  max: number | string,\r\n  symbol: string,\r\n  onSelectMax?: () => void,\r\n}\r\n\r\nconst TokenInput: React.FC<TokenInputProps> = ({\r\n  max,\r\n  symbol,\r\n  onChange,\r\n  onSelectMax,\r\n  value,\r\n}) => {\r\n  return (\r\n    <StyledTokenInput>\r\n      <StyledMaxText>{max.toLocaleString()} {symbol} Available</StyledMaxText>\r\n      <Input\r\n        endAdornment={(\r\n          <StyledTokenAdornmentWrapper>\r\n            <StyledTokenSymbol>{symbol}</StyledTokenSymbol>\r\n            <StyledSpacer />\r\n            <div>\r\n              <Button size=\"sm\" text=\"Max\" onClick={onSelectMax} />\r\n            </div>\r\n          </StyledTokenAdornmentWrapper>\r\n        )}\r\n        onChange={onChange}\r\n        placeholder=\"0\"\r\n        value={value}\r\n      />\r\n    </StyledTokenInput>\r\n  )\r\n}\r\n\r\n/*\r\n            <div>\r\n              <Button size=\"sm\" text=\"Max\" />\r\n            </div>\r\n*/\r\n\r\nconst StyledTokenInput = styled.div`\r\n\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  width: ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nconst StyledTokenAdornmentWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst StyledMaxText = styled.div`\r\n  align-items: center;\r\n  color: ${props => props.theme.color.grey[400]};\r\n  display: flex;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  height: 44px;\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst StyledTokenSymbol = styled.span`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-weight: 700;\r\n`\r\n\r\nexport default TokenInput","import React, { useCallback, useMemo, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport Button from '../../../components/Button'\r\nimport Modal, { ModalProps } from '../../../components/Modal'\r\nimport ModalActions from '../../../components/ModalActions'\r\nimport ModalTitle from '../../../components/ModalTitle'\r\nimport TokenInput from '../../../components/TokenInput'\r\n\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\r\n\r\ninterface DepositModalProps extends ModalProps {\r\n  max: BigNumber,\r\n  onConfirm: (amount: string) => void,\r\n  tokenName?: string,\r\n}\r\n\r\nconst DepositModal: React.FC<DepositModalProps> = ({ max, onConfirm, onDismiss, tokenName = '' }) => {\r\n  const [val, setVal] = useState('')\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max)\r\n  }, [max])\r\n\r\n  const handleChange = useCallback((e: React.FormEvent<HTMLInputElement>) => {\r\n    setVal(e.currentTarget.value)\r\n  }, [setVal])\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance)\r\n  }, [fullBalance, setVal])\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Deposit ${tokenName}`} />\r\n      <TokenInput\r\n        value={val}\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\r\n        <Button text=\"Confirm\" onClick={() => onConfirm(val)} />\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\n\r\nexport default DepositModal","import React, { useCallback, useMemo, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport Button from '../../../components/Button'\r\nimport Modal, { ModalProps } from '../../../components/Modal'\r\nimport ModalActions from '../../../components/ModalActions'\r\nimport ModalTitle from '../../../components/ModalTitle'\r\nimport TokenInput from '../../../components/TokenInput'\r\n\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\r\n\r\ninterface WithdrawModalProps extends ModalProps {\r\n  max: BigNumber,\r\n  onConfirm: (amount: string) => void,\r\n  tokenName?: string,\r\n}\r\n\r\nconst WithdrawModal: React.FC<WithdrawModalProps> = ({ onConfirm, onDismiss, max, tokenName = '' }) => {\r\n  const [val, setVal] = useState('')\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max)\r\n  }, [max])\r\n\r\n  const handleChange = useCallback((e: React.FormEvent<HTMLInputElement>) => {\r\n    setVal(e.currentTarget.value)\r\n  }, [setVal])\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance)\r\n  }, [fullBalance, setVal])\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Withdraw ${tokenName}`} />\r\n      <TokenInput\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        value={val}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\r\n        <Button text=\"Confirm\" onClick={() => onConfirm(val)} />\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default WithdrawModal","import React, { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport CardIcon from '../../../components/CardIcon'\r\nimport { AddIcon, RemoveIcon } from '../../../components/icons'\r\nimport IconButton from '../../../components/IconButton'\r\nimport Label from '../../../components/Label'\r\nimport Value from '../../../components/Value'\r\n\r\nimport useAllowance from '../../../hooks/useAllowance'\r\nimport useApprove from '../../../hooks/useApprove'\r\nimport useModal from '../../../hooks/useModal'\r\nimport useStake from '../../../hooks/useStake'\r\nimport useStakedBalance from '../../../hooks/useStakedBalance'\r\nimport useTokenBalance from '../../../hooks/useTokenBalance'\r\nimport useUnstake from '../../../hooks/useUnstake'\r\n\r\nimport { getDisplayBalance } from '../../../utils/formatBalance'\r\n\r\nimport DepositModal from './DepositModal'\r\nimport WithdrawModal from './WithdrawModal'\r\n\r\ninterface StakeProps {\r\n  poolContract: Contract,\r\n  tokenContract: Contract,\r\n  tokenName: string\r\n}\r\n\r\nconst Stake: React.FC<StakeProps> = ({\r\n  poolContract,\r\n  tokenContract,\r\n  tokenName,\r\n}) => {\r\n\r\n  const [requestedApproval, setRequestedApproval] = useState(false)\r\n\r\n  const allowance = useAllowance(tokenContract, poolContract)\r\n  const { onApprove } = useApprove(tokenContract, poolContract)\r\n  \r\n  const tokenBalance = useTokenBalance(tokenContract.options.address)\r\n  const stakedBalance = useStakedBalance(poolContract)\r\n\r\n  const { onStake } = useStake(poolContract, tokenName);\r\n  const { onUnstake } = useUnstake(poolContract)\r\n\r\n  const [onPresentDeposit] = useModal(\r\n    <DepositModal\r\n      max={tokenBalance}\r\n      onConfirm={onStake}\r\n      tokenName={tokenName}\r\n    />\r\n  )\r\n\r\n  const [onPresentWithdraw] = useModal(\r\n    <WithdrawModal\r\n      max={stakedBalance}\r\n      onConfirm={onUnstake}\r\n      tokenName={tokenName}\r\n    />\r\n  )\r\n\r\n  const handleApprove = useCallback(async () => {\r\n    try {\r\n      setRequestedApproval(true)\r\n      const txHash = await onApprove()\r\n      // user rejected tx or didn't go thru\r\n      if (!txHash) {\r\n        setRequestedApproval(false)\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }, [onApprove, setRequestedApproval])\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <StyledCardContentInner>\r\n          <StyledCardHeader>\r\n            <CardIcon>🌱</CardIcon>\r\n            <Value value={getDisplayBalance(stakedBalance)} />\r\n            <Label text={`${tokenName} Staked`} />\r\n          </StyledCardHeader>\r\n          <StyledCardActions>\r\n            {!allowance.toNumber() ? (\r\n              <Button\r\n                disabled={requestedApproval}\r\n                onClick={handleApprove}\r\n                text={`Approve ${tokenName}`}\r\n              />\r\n            ) : (\r\n              <>\r\n                <IconButton onClick={onPresentWithdraw}>\r\n                  <RemoveIcon />\r\n                </IconButton>\r\n                <StyledActionSpacer />\r\n                <IconButton onClick={onPresentDeposit}>\r\n                  <AddIcon />\r\n                </IconButton>\r\n              </>\r\n            )}\r\n          </StyledCardActions>\r\n        </StyledCardContentInner>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: ${props => props.theme.spacing[6]}px;\r\n  width: 100%;\r\n`\r\n\r\nconst StyledActionSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n  width: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\n\r\nexport default Stake","import React, { useMemo, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { useParams } from 'react-router-dom'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\n\r\nimport Countdown, { CountdownRenderProps} from 'react-countdown'\r\n\r\n\r\nimport Button from '../../components/Button'\r\nimport PageHeader from '../../components/PageHeader'\r\nimport Spacer from '../../components/Spacer'\r\n\r\nimport useFarm from '../../hooks/useFarm'\r\nimport useRedeem from '../../hooks/useRedeem'\r\nimport { getContract } from '../../utils/erc20'\r\n\r\nimport Harvest from './components/Harvest'\r\nimport Stake from './components/Stake'\r\n\r\nconst Farm: React.FC = () => {\r\n  const { farmId } = useParams()\r\n  const {\r\n    contract,\r\n    depositToken,\r\n    depositTokenAddress,\r\n    earnToken,\r\n    name,\r\n    icon,\r\n  } = useFarm(farmId) || {\r\n    depositToken: '',\r\n    depositTokenAddress: '',\r\n    earnToken: '',\r\n    name: '',\r\n    icon: ''\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, []);\r\n\r\n  const { ethereum } = useWallet()\r\n\r\n  const tokenContract = useMemo(() => {\r\n    return getContract(ethereum as provider, depositTokenAddress)\r\n  }, [ethereum, depositTokenAddress])\r\n\r\n  const { onRedeem } = useRedeem(contract)\r\n\r\n  const depositTokenName = useMemo(() => {\r\n    return depositToken.toUpperCase()\r\n  }, [depositToken])\r\n\r\n  const earnTokenName = useMemo(() => {\r\n    return earnToken.toUpperCase()\r\n  }, [earnToken])\r\n\r\n  const countdownBlock = () => {\r\n    const date = Date.parse('Sun Aug 23 2020 00:20:00 GMT+0800')\r\n    if (Date.now() >= date) return \"\";\r\n    return (\r\n      <CountdownView>\r\n        <Countdown date={date} />\r\n      </CountdownView>\r\n    )\r\n  }\r\n\r\n  const YamNotify = (token: String)=> {\r\n    if (token != \"yam\") return \"\"\r\n    return (\r\n      <YamNotifyView>\r\n        <p> Farm is good, but don't forget migration your YAM before Migration Deadline. </p>\r\n        <p>\r\n          <a href='https://yam.finance/'>https://yam.finance/</a>\r\n        </p>\r\n        {countdownBlock()}\r\n      </YamNotifyView>\r\n    )\r\n  }\r\n\r\n  const lpPoolTips = (token: String)=> {\r\n    if (token != 'uni_lp') return \"\"\r\n    return (\r\n      <YamNotifyView>\r\n        <p>\r\n          If you want Add liquidity to Uniswap, please use this <a href='https://app.uniswap.org/#/add/0xC8D2AB2a6FdEbC25432E54941cb85b55b9f152dB/0xdf5e0e81dff6faf3a7e52ba697820c5e32d806a8'>Uniswap link</a>.\r\n        </p>\r\n      </YamNotifyView>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <PageHeader\r\n        icon={icon}\r\n        subtitle={`Deposit ${depositTokenName} and earn ${earnTokenName}`}\r\n        title={name}\r\n      />\r\n      {YamNotify(depositToken)}\r\n      <StyledFarm>\r\n        {\r\n          lpPoolTips(depositToken)\r\n        }\r\n        <StyledCardsWrapper>\r\n          <StyledCardWrapper>\r\n            <Harvest poolContract={contract} />\r\n          </StyledCardWrapper>\r\n          <Spacer />\r\n          <StyledCardWrapper>\r\n            <Stake\r\n              poolContract={contract}\r\n              tokenContract={tokenContract}\r\n              tokenName={depositToken.toUpperCase()}\r\n            />\r\n          </StyledCardWrapper>\r\n        </StyledCardsWrapper>\r\n        <Spacer size=\"lg\" />\r\n        <div>\r\n          <Button\r\n            onClick={onRedeem}\r\n            text=\"Harvest & Withdraw\"\r\n          />\r\n        </div>\r\n        <Spacer size=\"lg\" />\r\n      </StyledFarm>\r\n    </>\r\n  )\r\n}\r\n\r\nconst StyledFarm = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledCardsWrapper = styled.div`\r\n  display: flex;\r\n  width: 600px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 80%;\r\n  }\r\n`\r\n\r\nconst CountdownView =  styled.div`\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  color: rgb(209, 0, 75);\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst YamNotifyView =  styled.div`\r\n  text-align: center;\r\n  color: #555;\r\n`\r\n\r\n\r\nexport default Farm\r\n","import React from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nimport CardIcon from '../CardIcon'\r\n\r\ninterface LoaderProps {\r\n  text?: string\r\n}\r\n\r\nconst Loader: React.FC<LoaderProps> = ({ text }) => {\r\n  return (\r\n    <StyledLoader>\r\n      <CardIcon>\r\n      <StyledYam>🍇</StyledYam>\r\n      </CardIcon>\r\n      {!!text && <StyledText>{text}</StyledText>}\r\n    </StyledLoader>\r\n  )\r\n}\r\n\r\nconst spin = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst StyledLoader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledYam = styled.div`\r\n  font-size: 32px;\r\n  position: relative;\r\n  animation: 1s ${spin} infinite;\r\n`\r\n\r\nconst StyledText = styled.div`\r\n  color: ${props => props.theme.color.grey[400]};\r\n`\r\n\r\nexport default Loader\r\n","import { useContext } from 'react'\r\nimport { Context as FarmsContext } from '../contexts/Farms'\r\n\r\nconst useFarms = () => {\r\n  const { farms } = useContext(FarmsContext)\r\n  return [farms]\r\n}\r\n\r\nexport default useFarms","import React, { useCallback, useEffect, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Countdown, { CountdownRenderProps} from 'react-countdown'\r\n\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport CardIcon from '../../../components/CardIcon'\r\nimport Loader from '../../../components/Loader'\r\n\r\nimport useFarms from '../../../hooks/useFarms'\r\n\r\nimport { Farm } from '../../../contexts/Farms'\r\n\r\nimport { getPoolStartTime } from '../../../grapUtils'\r\n\r\nconst FarmCards: React.FC = () => {\r\n  const [farms] = useFarms()\r\n\r\n  const rows = farms.reduce<Farm[][]>((farmRows, farm) => {\r\n    const newFarmRows = [...farmRows]\r\n    if (newFarmRows[newFarmRows.length - 1].length === 3) {\r\n      newFarmRows.push([farm])\r\n    } else {\r\n      newFarmRows[newFarmRows.length - 1].push(farm)\r\n    }\r\n    return newFarmRows\r\n  }, [[]])\r\n\r\n  return (\r\n    <StyledCards>\r\n      {!!rows[0].length ? rows.map((farmRow, i) => (\r\n        <StyledRow key={i}>\r\n          {farmRow.map((farm, j) => (\r\n            <React.Fragment key={j}>\r\n              <FarmCard farm={farm} />\r\n              {(j === 0 || j === 1) && <StyledSpacer />}\r\n            </React.Fragment>\r\n          ))}\r\n        </StyledRow>\r\n      )) : (\r\n          <StyledLoadingWrapper>\r\n            <Loader text=\"Loading farms\" />\r\n          </StyledLoadingWrapper>\r\n        )}\r\n    </StyledCards>\r\n  )\r\n}\r\n\r\ninterface FarmCardProps {\r\n  farm: Farm,\r\n}\r\n\r\nconst FarmCard: React.FC<FarmCardProps> = ({ farm }) => {\r\n  const [startTime, setStartTime] = useState(0)\r\n\r\n  const getStartTime = useCallback(async () => {\r\n    const startTime = await getPoolStartTime(farm.contract)\r\n    setStartTime(startTime)\r\n  }, [farm, setStartTime])\r\n\r\n  const renderer = (countdownProps: CountdownRenderProps) => {\r\n    const { hours, minutes, seconds } = countdownProps\r\n    const paddedSeconds = seconds < 10 ? `0${seconds}` : seconds\r\n    const paddedMinutes = minutes < 10 ? `0${minutes}` : minutes\r\n    const paddedHours = hours < 10 ? `0${hours}` : hours\r\n    return (\r\n      <span style={{ width: '100%' }}>{paddedHours}:{paddedMinutes}:{paddedSeconds}</span>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (farm && farm.id === 'uni_lp') {\r\n      getStartTime()\r\n    }\r\n  }, [farm, getStartTime])\r\n  \r\n  const poolActive = startTime * 1000 - Date.now() <= 0\r\n  \r\n  return (\r\n    <StyledCardWrapper>\r\n      {farm.id === 'uni_lp' && (\r\n        <StyledCardAccent />\r\n      )}\r\n      <Card>\r\n        <CardContent>\r\n          <StyledContent>\r\n            <CardIcon>{farm.icon}</CardIcon>\r\n            <StyledTitle>{farm.name}</StyledTitle>\r\n            <StyledDetails>\r\n              <StyledDetail>Deposit {farm.depositToken.toUpperCase()}</StyledDetail>\r\n              <StyledDetail>Earn {farm.earnToken.toUpperCase()}</StyledDetail>\r\n            </StyledDetails>\r\n            <Button\r\n              disabled={!poolActive}\r\n              text={poolActive ? 'Select' : undefined}\r\n              to={`/farms/${farm.id}`}\r\n            >\r\n              {!poolActive && <Countdown date={new Date(startTime * 1000)} renderer={renderer} />}\r\n            </Button>\r\n          </StyledContent>\r\n        </CardContent>\r\n      </Card>\r\n    </StyledCardWrapper>\r\n  )\r\n}\r\n\r\nconst StyledCardAccent = styled.div`\r\n  background: linear-gradient(\r\n    45deg,\r\n    rgba(255, 0, 0, 1) 0%,\r\n    rgba(255, 154, 0, 1) 10%,\r\n    rgba(208, 222, 33, 1) 20%,\r\n    rgba(79, 220, 74, 1) 30%,\r\n    rgba(63, 218, 216, 1) 40%,\r\n    rgba(47, 201, 226, 1) 50%,\r\n    rgba(28, 127, 238, 1) 60%,\r\n    rgba(95, 21, 242, 1) 70%,\r\n    rgba(186, 12, 248, 1) 80%,\r\n    rgba(251, 7, 217, 1) 90%,\r\n    rgba(255, 0, 0, 1) 100%\r\n  );\r\n  border-radius: 12px;\r\n  filter: blur(4px);\r\n  position: absolute;\r\n  top: -2px; right: -2px; bottom: -2px; left: -2px;\r\n  z-index: -1;\r\n`\r\n\r\nconst StyledCards = styled.div`\r\n  width: 900px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledLoadingWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledRow = styled.div`\r\n  display: flex;\r\n  margin-bottom: ${props => props.theme.spacing[4]}px;\r\n  flex-flow: row wrap;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  width: calc((900px - ${props => props.theme.spacing[4]}px * 2) / 3);\r\n  position: relative;\r\n`\r\n\r\nconst StyledTitle = styled.h4`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  margin: ${props => props.theme.spacing[2]}px 0 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledContent = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n  width: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledDetails = styled.div`\r\n  margin-bottom: ${props => props.theme.spacing[6]}px;\r\n  margin-top: ${props => props.theme.spacing[2]}px;\r\n  text-align: center;\r\n`\r\n\r\nconst StyledDetail = styled.div`\r\n  color: ${props => props.theme.color.grey[500]};\r\n`\r\n\r\nexport default FarmCards","import React from 'react'\r\nimport {\r\n  Route,\r\n  Switch,\r\n  useRouteMatch,\r\n} from 'react-router-dom'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport farmer from '../../assets/img/farmer.png'\r\n\r\nimport Button from '../../components/Button'\r\nimport Page from '../../components/Page'\r\nimport PageHeader from '../../components/PageHeader'\r\n\r\nimport Farm from '../Farm'\r\n\r\nimport FarmCards from './components/FarmCards'\r\n\r\nconst Farms: React.FC = () => {\r\n  const { path } = useRouteMatch()\r\n  const { account, connect } = useWallet()\r\n  return (\r\n    <Switch>\r\n      <Page>\r\n      {!!account ? (\r\n        <>\r\n          <Route exact path={path}>\r\n            <PageHeader\r\n              icon={<img src={farmer} height=\"96\" />}\r\n              subtitle=\"Earn GRAP tokens by providing liquidity.\"\r\n              title=\"Select a farm.\"\r\n            />\r\n            <FarmCards />\r\n          </Route>\r\n          <Route path={`${path}/:farmId`}>\r\n            <Farm />\r\n          </Route>\r\n        </>\r\n      ) : (\r\n        <div style={{\r\n          alignItems: 'center',\r\n          display: 'flex',\r\n          flex: 1,\r\n          justifyContent: 'center',\r\n        }}>\r\n          <Button\r\n            onClick={() => connect('injected')}\r\n            text=\"Unlock Wallet\"\r\n          />\r\n        </div>\r\n      )}\r\n      </Page>\r\n    </Switch>\r\n  )\r\n}\r\n\r\n\r\nexport default Farms","  \r\nimport React, { useCallback, useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport Button from '../../components/Button'\r\nimport Card from '../../components/Card'\r\nimport CardContent from '../../components/CardContent'\r\nimport Spacer from '../../components/Spacer'\r\n\r\nimport useGrap from '../../hooks/useGrap'\r\n\r\nimport { getDisplayBalance } from '../../utils/formatBalance'\r\n\r\nimport { getProposal, getQuorumVotes, getProposalStatus, castVote } from '../../grapUtils'\r\n\r\nimport { Proposal, ProposalStatus } from '../../contexts/Proposals'\r\n\r\nimport {PROPOSALSTATUSCODE} from '../../grap/lib/constants'\r\n\r\n\r\nconst METER_TOTAL = 80000\r\n\r\nconst ProposalPage: React.FC = () => {\r\n  const { proposalId } = useParams()\r\n  const [proposal, setProposal] =  useState<Proposal>({} as Proposal)\r\n  const [{forVotes, againstVotes, quorumVotes, totalVotes}, setVotes] = useState({forVotes:0, againstVotes:0, totalVotes:0, quorumVotes:0})\r\n  const { account } = useWallet()\r\n  const grap = useGrap()\r\n\r\n\r\n  const handleVoteForClick = useCallback(() => {\r\n    castVote(grap, proposal.id, true, account )\r\n  }, [account, grap, proposal.id])\r\n\r\n  const handleVoteAgainstClick = useCallback(() => {\r\n    castVote(grap, proposal.id, false, account )\r\n  }, [account, grap, proposal.id])\r\n\r\n  const fetchProposal = useCallback(async () => {\r\n    const proposal = await getProposal(grap, proposalId)\r\n    setProposal(proposal)\r\n  }, [grap, proposalId])\r\n\r\n  const fetchVotes = useCallback(async () => {\r\n    const proposalStatus:ProposalStatus = await getProposalStatus(grap, proposalId)\r\n    const forVotes = new BigNumber(proposalStatus.forVotes).div(10**6)\r\n    const againstVotes = new BigNumber(proposalStatus.againstVotes).div(10**6)\r\n    const quorumCount = await getQuorumVotes(grap)\r\n    setVotes({\r\n      forVotes: Number(getDisplayBalance(forVotes)),\r\n      againstVotes: Number(getDisplayBalance(againstVotes)),\r\n      totalVotes: Number(getDisplayBalance(forVotes.plus(againstVotes))),\r\n      quorumVotes: Number(getDisplayBalance(quorumCount))\r\n    })\r\n  }, [grap, proposalId])\r\n\r\n  useEffect(() => {\r\n    if (grap) {\r\n      fetchProposal()\r\n      fetchVotes()\r\n    }\r\n  }, [fetchProposal, fetchVotes, grap])\r\n\r\n  return (\r\n    <Card>\r\n      {proposal ? (\r\n        <CardContent>\r\n        <StyledTitle>For votes: {new BigNumber(forVotes).toFixed(2)}</StyledTitle>\r\n        <StyledTitle>Against votes: {new BigNumber(againstVotes).toFixed(2)}</StyledTitle>\r\n        <StyledTitle>Total votes: {new BigNumber(totalVotes).toFixed(2)}</StyledTitle>\r\n        <Spacer />\r\n        <StyledCheckpoints>\r\n          <StyledCheckpoint left={4000 / METER_TOTAL * 100}>\r\n            <StyledCheckpointText left={-28}>\r\n              <div>Quorum Votes</div>\r\n              <div>{ String(quorumVotes) }</div>\r\n            </StyledCheckpointText>\r\n          </StyledCheckpoint>\r\n        </StyledCheckpoints>\r\n        <StyledMeter>\r\n          <StyledMeterInner width={Math.max(1000, totalVotes) / METER_TOTAL * 100} />\r\n        </StyledMeter>\r\n        <Spacer />\r\n        <StyledDetails>\r\n          <StyledProposalTitle>\r\n            Proposer: \r\n            <StyledLink target=\"__blank\" href={`https://etherscan.io/address/${proposal.proposer}`}>{proposal.proposer}</StyledLink>\r\n          </StyledProposalTitle>\r\n          <StyledProposalTitle>\r\n            Description: \r\n            <StyledProposalContent>\r\n              {proposal.description}\r\n            </StyledProposalContent>\r\n          </StyledProposalTitle>\r\n          <StyledProposalTitle>\r\n            StartBlock: \r\n            <StyledLink target=\"__blank\" href={`https://etherscan.io/block/${proposal.startBlock}`}>{proposal.startBlock}</StyledLink>\r\n          </StyledProposalTitle>\r\n          <StyledProposalTitle>\r\n            EndBlock: \r\n            <StyledProposalContent>\r\n            <StyledLink target=\"__blank\" href={`https://etherscan.io/block/${proposal.endBlock}`}>{proposal.endBlock}</StyledLink>\r\n            </StyledProposalContent>\r\n          </StyledProposalTitle>\r\n          <StyledProposalTitle>\r\n            Targets: \r\n            <StyledProposalContent>\r\n            <StyledLink target=\"__blank\" href={`https://etherscan.io/address/${proposal.targets}`}>{proposal.targets}</StyledLink>\r\n            </StyledProposalContent>\r\n          </StyledProposalTitle>\r\n          <StyledProposalTitle>\r\n            Signatures: \r\n            <StyledProposalContent>\r\n              {proposal.signatures}\r\n            </StyledProposalContent>\r\n          </StyledProposalTitle>\r\n          <StyledProposalTitle>\r\n            Transaction: \r\n            <StyledProposalContent>\r\n            <StyledLink target=\"__blank\" href={`https://etherscan.io/tx/${proposal.transactionHash}`}>{proposal.transactionHash}</StyledLink>\r\n            </StyledProposalContent>\r\n          </StyledProposalTitle>\r\n        </StyledDetails>\r\n        { proposal.status === PROPOSALSTATUSCODE.CREATED \r\n          &&\r\n          <div>\r\n            <Button text=\"For\" onClick={handleVoteForClick} />\r\n            <Button text=\"Against\" onClick={handleVoteAgainstClick} />\r\n          </div>\r\n        }\r\n        <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            marginTop: 32,\r\n          }}>\r\n        </div>\r\n      </CardContent>\r\n      ) : (\r\n        <Button\r\n          size=\"sm\"\r\n          text=\"My Wallet\"\r\n        />\r\n      )}\r\n    </Card>\r\n  )\r\n}\r\n\r\nconst StyledTitle = styled.div`\r\n  font-size: 32px;\r\n  font-weight: 700;\r\n  text-align: center;\r\n  height: 56px;\r\n  line-height: 56px;\r\n`\r\n\r\nconst StyledCheckpoints = styled.div`\r\n  position: relative;\r\n  width: 80%;\r\n  height: 56px;\r\n`\r\n\r\ninterface StyledCheckpointProps {\r\n  left: number\r\n}\r\nconst StyledCheckpoint = styled.div<StyledCheckpointProps>`\r\n  position: absolute;\r\n  left: ${props => props.left}%;\r\n  z-index: 1;\r\n  &:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 1px;\r\n    background-color: ${props => props.theme.color.grey[400]};\r\n    height: 28px;\r\n    left: 0;\r\n    top: 40px;\r\n  }\r\n`\r\n\r\nconst StyledCheckpointText = styled.div<StyledCheckpointProps>`\r\n  position: absolute;\r\n  left: ${props => props.left}px;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  white-space: nowrap;\r\n  color: ${props => props.theme.color.grey[600]};\r\n  text-align: center;\r\n`\r\n\r\nconst StyledMeter = styled.div`\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  height: 12px;\r\n  border-radius: 16px;\r\n  width: 100%;\r\n  background-color: ${props => props.theme.color.grey[300]};\r\n  padding: 2px;\r\n`\r\n\r\nconst StyledDetails = styled.div`\r\n  margin-bottom: ${props => props.theme.spacing[4]}px;\r\n  text-align: center;\r\n`\r\nconst StyledProposalTitle = styled.div`\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  margin-bottom: 6px;\r\n  flex-direction: column;\r\n  color: ${props => props.theme.color.grey[600]};\r\n  text-align: center;\r\n`\r\n\r\nconst StyledProposalContent = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  text-align: center;\r\n`\r\n\r\n\r\ninterface StyledMeterInnerProps {\r\n  width: number\r\n}\r\nconst StyledMeterInner = styled.div<StyledMeterInnerProps>`\r\n  height: 100%;\r\n  background-color: ${props => props.theme.color.secondary.main};\r\n  border-radius: 12px;\r\n  width: ${props => props.width}%;\r\n`\r\nconst StyledLink = styled.a`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-weight: 500;\r\n  font-size: 12px;\r\n  overflow-wrap: break-word;\r\n  word-break:break-all;\r\n`\r\n\r\nexport default ProposalPage","import { useContext } from 'react'\r\nimport { Context as ProposalsContext } from '../contexts/Proposals'\r\n\r\nconst useProposals = () => {\r\n  const { proposals } = useContext(ProposalsContext)\r\n  return [proposals]\r\n}\r\n\r\nexport default useProposals","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Countdown, { CountdownRenderProps} from 'react-countdown'\r\n\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport Loader from '../../../components/Loader'\r\n\r\nimport {PROPOSALSTATUSCODE} from '../../../grap/lib/constants'\r\nimport useProposals from '../../../hooks/useProposals'\r\n\r\nimport { Proposal } from '../../../contexts/Proposals'\r\n\r\nconst ProposalCards: React.FC = () => {\r\n  const [proposals] = useProposals()\r\n  \r\n  const rows = proposals.reduce<Proposal[][]>((proposalRows, proposal) => {\r\n    const newProposalRows = [...proposalRows]\r\n    if (newProposalRows[newProposalRows.length - 1].length === 3) {\r\n      newProposalRows.push([proposal])\r\n    } else {\r\n      newProposalRows[newProposalRows.length - 1].push(proposal)\r\n    }\r\n    return newProposalRows\r\n  }, [[]])\r\n\r\n  return (\r\n    <StyledCards>\r\n      {!!rows[0].length ? rows.map((proposalRow, i) => (\r\n        <StyledRow key={i}>\r\n          {proposalRow.map((proposal, j) => (\r\n            <React.Fragment key={j}>\r\n              <ProposalCard proposal={proposal} />\r\n              {(j === 0 || j === 1) && <StyledSpacer />}\r\n            </React.Fragment>\r\n          ))}\r\n        </StyledRow>\r\n      )) : (\r\n          <StyledLoadingWrapper>\r\n            <Loader text=\"Loading proposals\" />\r\n          </StyledLoadingWrapper>\r\n        )}\r\n    </StyledCards>\r\n  )\r\n}\r\n\r\ninterface ProposalCards {\r\n  proposal: Proposal,\r\n}\r\n\r\nconst ProposalCard: React.FC<ProposalCards> = ({ proposal }) => {\r\n  const [startTime] = useState(0)\r\n\r\n  const renderer = (countdownProps: CountdownRenderProps) => {\r\n    const { hours, minutes, seconds } = countdownProps\r\n    const paddedSeconds = seconds < 10 ? `0${seconds}` : seconds\r\n    const paddedMinutes = minutes < 10 ? `0${minutes}` : minutes\r\n    const paddedHours = hours < 10 ? `0${hours}` : hours\r\n    return (\r\n      <span style={{ width: '100%' }}>{paddedHours}:{paddedMinutes}:{paddedSeconds}</span>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n  }, [])\r\n  \r\n  const poolActive = startTime * 1000 - Date.now() <= 0\r\n  \r\n  return (\r\n    <StyledCardWrapper>\r\n      <Card>\r\n        <CardContent>\r\n          <StyledContent>\r\n            <StyledTitle>Proposal {proposal.id}</StyledTitle>\r\n            <StyledDetails>\r\n              {proposal.description}\r\n            </StyledDetails>\r\n              {proposal.status === PROPOSALSTATUSCODE.CREATED ? (\r\n                <StyledCreated>\r\n                  Voting\r\n                </StyledCreated>\r\n              ) : (\r\n                <StyledEnd>\r\n                  End\r\n                </StyledEnd>\r\n              )}\r\n            <Button\r\n              text='Vote'\r\n              to={`/vote/${proposal.id}`}\r\n            >\r\n            </Button>\r\n          </StyledContent>\r\n        </CardContent>\r\n      </Card>\r\n    </StyledCardWrapper>\r\n  )\r\n}\r\n\r\nconst StyledCards = styled.div`\r\n  width: 900px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledLoadingWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledRow = styled.div`\r\n  display: flex;\r\n  margin-bottom: ${props => props.theme.spacing[4]}px;\r\n  flex-flow: row wrap;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  width: calc((900px - ${props => props.theme.spacing[4]}px * 2) / 3);\r\n  position: relative;\r\n`\r\n\r\nconst StyledTitle = styled.h4`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  margin: ${props => props.theme.spacing[2]}px 0 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledContent = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n  width: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledDetails = styled.h5`\r\n  maring: ${props => props.theme.spacing[4]}px;\r\n  padding: 5px;\r\n  width: 100%;\r\n  word-wrap: break-word;\r\n  text-align: center;\r\n`\r\n\r\nconst StyledCreated = styled.div`\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: ${props => props.theme.color.ongoing};\r\n  margin-bottom: ${props => props.theme.spacing[2]}px;\r\n  margin-top: ${props => props.theme.spacing[2]}px;\r\n`\r\n\r\nconst StyledEnd = styled.div`\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: ${props => props.theme.color.fail};\r\n  margin-bottom: ${props => props.theme.spacing[2]}px;\r\n  margin-top: ${props => props.theme.spacing[2]}px;\r\n`\r\n\r\nexport default ProposalCards","import React from 'react'\r\nimport {\r\n  Route,\r\n  Switch,\r\n  useRouteMatch,\r\n} from 'react-router-dom'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport vote from '../../assets/img/vote.png'\r\n\r\nimport Button from '../../components/Button'\r\nimport Page from '../../components/Page'\r\nimport PageHeader from '../../components/PageHeader'\r\n\r\nimport ProposalPage from '../ProposalPage'\r\n\r\nimport ProposalCards from './components/ProposalCards'\r\n\r\nconst Vote: React.FC = () => {\r\n  const { path } = useRouteMatch()\r\n  const { account, connect } = useWallet()\r\n  return (\r\n    <Switch>\r\n      <Page>\r\n      {!!account ? (\r\n        <>\r\n          <Route exact path={path}>\r\n            <PageHeader\r\n              icon={<img src={vote} height=\"96\" />}\r\n              subtitle=\"Your governance. You choose.\"\r\n              title=\"Let's vote.\"\r\n            />\r\n            <ProposalCards />\r\n          </Route>\r\n          <Route path={`${path}/:proposalId`}>\r\n            <ProposalPage />\r\n          </Route>\r\n        </>\r\n      ) : (\r\n        <div style={{\r\n          alignItems: 'center',\r\n          display: 'flex',\r\n          flex: 1,\r\n          justifyContent: 'center',\r\n        }}>\r\n          <Button\r\n            onClick={() => connect('injected')}\r\n            text=\"Unlock Wallet\"\r\n          />\r\n        </div>\r\n      )}\r\n      </Page>\r\n    </Switch>\r\n  )\r\n}\r\n\r\n\r\nexport default Vote","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar'\r\n\r\ninterface DialProps {\r\n  children?: React.ReactNode,\r\n  disabled?: boolean,\r\n  size?: number,\r\n  value: number\r\n}\r\n\r\nconst Dial: React.FC<DialProps> = ({ children, disabled, size = 256, value }) => {\r\n  const { color } = useContext(ThemeContext)\r\n\r\n  return (\r\n    <StyledDial size={size}>\r\n      <StyledOuter>\r\n        <CircularProgressbar\r\n          value={value}\r\n          styles={buildStyles({\r\n            strokeLinecap: 'round',\r\n            pathColor: !disabled ? color.secondary.main : color.grey[400],\r\n            pathTransitionDuration: 1,\r\n          })}\r\n        />\r\n      </StyledOuter>\r\n      <StyledInner size={size}>\r\n        {children}\r\n      </StyledInner>\r\n    </StyledDial>\r\n  )\r\n}\r\n\r\ninterface StyledInnerProps {\r\n  size: number\r\n}\r\n\r\nconst StyledDial = styled.div<StyledInnerProps>`\r\n  padding: 24px;\r\n  position: relative;\r\n  height: ${props => props.size}px;\r\n  width: ${props => props.size}px;\r\n`\r\n\r\nconst StyledInner = styled.div<StyledInnerProps>`\r\n  align-items: center;\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  border-radius: ${props => props.size}px;\r\n  display: flex;\r\n  justify-content: center;\r\n  position: relative;\r\n  height: ${props => props.size}px;\r\n  width: ${props => props.size}px;\r\n`\r\n\r\nconst StyledOuter = styled.div`\r\n  background-color: ${props => props.theme.color.grey[300]};\r\n  border-radius: 10000px;\r\n  position: absolute;\r\n  top: 0; right: 0; bottom: 0; left: 0;\r\n`\r\n\r\nexport default Dial","import { useCallback } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\nimport { Grap } from '../grap'\r\nimport { rebase } from '../grapUtils'\r\n\r\nimport useGrap from '../hooks/useGrap'\r\n\r\nconst useRebase = () => {\r\n  const { account } = useWallet()\r\n  const grap = useGrap()\r\n\r\n  const handleRebase = useCallback(async () => {\r\n    const txHash = await rebase(grap, account)\r\n    console.log(txHash)\r\n  }, [account, grap])\r\n\r\n  return { onRebase: handleRebase }\r\n}\r\n\r\nexport default useRebase","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Countdown, { CountdownRenderProps} from 'react-countdown'\r\n\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport Dial from '../../../components/Dial'\r\nimport Label from '../../../components/Label'\r\n\r\nimport useRebase from '../../../hooks/useRebase'\r\n\r\ninterface RebaseProps {\r\n  nextRebase?: number\r\n}\r\n\r\nconst Rebase: React.FC<RebaseProps> = ({ nextRebase }) => {\r\n  const { onRebase } = useRebase()\r\n\r\n  const renderer = (countdownProps: CountdownRenderProps) => {\r\n    const { hours, minutes, seconds } = countdownProps\r\n    const paddedSeconds = seconds < 10 ? `0${seconds}` : seconds\r\n    const paddedMinutes = minutes < 10 ? `0${minutes}` : minutes\r\n    const paddedHours = hours < 10 ? `0${hours}` : hours\r\n    return (\r\n      <span>{paddedHours}:{paddedMinutes}:{paddedSeconds}</span>\r\n    )\r\n  }\r\n\r\n  const dialValue = (nextRebase - Date.now()) / (1000 * 60 * 60 * 24) * 100\r\n\r\n  return (\r\n    <StyledRebase>\r\n      <Card>\r\n        <CardContent>\r\n          <Dial disabled={!nextRebase} size={232} value={dialValue ? dialValue : 0}>\r\n            <StyledCountdown>\r\n              <StyledCountdownText>\r\n                {!nextRebase ? '--' : (\r\n                  <Countdown date={new Date(nextRebase)} renderer={renderer} />\r\n                )}\r\n              </StyledCountdownText>\r\n              <Label text=\"Next rebase\" />\r\n            </StyledCountdown>\r\n          </Dial>\r\n          <StyledSpacer />\r\n          <Button disabled={!nextRebase || nextRebase > 0} onClick={onRebase}  text=\"Rebase\" />\r\n        </CardContent>\r\n      </Card>\r\n    </StyledRebase>\r\n  )\r\n}\r\n\r\nconst StyledRebase = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledCountdown = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst StyledCountdownText = styled.span`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\n\r\nexport default Rebase","import React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport numeral from 'numeral'\r\n\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport Label from '../../../components/Label'\r\n\r\nimport { getDisplayBalance } from '../../../utils/formatBalance'\r\nimport BigNumber from 'bignumber.js'\r\n\r\ninterface StatsProps {\r\n  circSupply?: string,\r\n  curPrice?: number,\r\n  targetPrice?: number,\r\n  totalSupply?: string\r\n}\r\nconst Stats: React.FC<StatsProps> = ({\r\n  circSupply,\r\n  curPrice,\r\n  targetPrice,\r\n  totalSupply,\r\n}) => {\r\n\r\n  const formattedTotalSupply = useMemo(() => {\r\n    if (totalSupply) {\r\n      const supplyStr = getDisplayBalance(new BigNumber(totalSupply))\r\n      return numeral(supplyStr).format('0.0a') \r\n    } else return '--'\r\n  }, [totalSupply])\r\n\r\n  return (\r\n    <StyledStats>\r\n      <Card>\r\n        <CardContent>\r\n          <StyledStat>\r\n            <StyledValue>{curPrice ? `$${getDisplayBalance(new BigNumber(curPrice))}` : '--'}</StyledValue>\r\n            <Label text=\"Current Price\" />\r\n          </StyledStat>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <StyledSpacer />\r\n\r\n      <Card>\r\n        <CardContent>\r\n          <StyledStat>\r\n            <StyledValue>{targetPrice ? `$${targetPrice}` : '--'}</StyledValue>\r\n            <Label text=\"Target Price\" />\r\n          </StyledStat>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <StyledSpacer />\r\n\r\n      <Card>\r\n        <CardContent>\r\n          <StyledStat>\r\n            <StyledValue>\r\n              {formattedTotalSupply}\r\n            </StyledValue>\r\n            <Label text=\"Total Supply\" />\r\n          </StyledStat>\r\n        </CardContent>\r\n      </Card>\r\n    </StyledStats>\r\n  )\r\n}\r\n\r\nconst StyledStats = styled.div`\r\n  width: 325px;\r\n`\r\n\r\nconst StyledStat = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst StyledValue = styled.span`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nexport default Stats","import { Grap } from '../../grap'\r\n\r\nimport {\r\n  getCurrentPrice as gCP,\r\n  getTargetPrice as gTP,\r\n  getCirculatingSupply as gCS,\r\n  getNextRebaseTimestamp as gNRT,\r\n  getTotalSupply as gTS,\r\n} from '../../grapUtils'\r\n\r\nconst getCurrentPrice = async (grap: typeof Grap): Promise<number> => {\r\n  // FORBROCK: get current GRAP price\r\n  return gCP(grap)\r\n}\r\n\r\nconst getTargetPrice = async (grap: typeof Grap): Promise<number> => {\r\n  // FORBROCK: get target GRAP price\r\n  return gTP(grap)\r\n}\r\n\r\nconst getCirculatingSupply = async (grap: typeof Grap): Promise<string> => {\r\n  // FORBROCK: get circulating supply\r\n  return gCS(grap)\r\n}\r\n\r\nconst getNextRebaseTimestamp = async (grap: typeof Grap): Promise<number> => {\r\n  // FORBROCK: get next rebase timestamp\r\n  const nextRebase = await gNRT(grap) as number\r\n  return nextRebase * 1000\r\n}\r\n\r\nconst getTotalSupply = async (grap: typeof Grap): Promise<string> => {\r\n  // FORBROCK: get total supply\r\n  return gTS(grap)\r\n}\r\n\r\nexport const getStats = async (grap: typeof Grap) => {\r\n  const curPrice = await getCurrentPrice(grap)\r\n  const circSupply = await getCirculatingSupply(grap)\r\n  const nextRebase = await getNextRebaseTimestamp(grap)\r\n  const targetPrice = await getTargetPrice(grap)\r\n  const totalSupply = await getTotalSupply(grap)\r\n  return {\r\n    circSupply,\r\n    curPrice,\r\n    nextRebase,\r\n    targetPrice,\r\n    totalSupply\r\n  }\r\n}\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Countdown from 'react-countdown';\r\n\r\n\r\nimport Page from '../../components/Page'\r\nimport PageHeader from '../../components/PageHeader'\r\n\r\nimport useGrap from '../../hooks/useGrap'\r\n\r\nimport Rebase from './components/Rebase'\r\nimport Stats from './components/Stats'\r\n\r\nimport { OverviewData } from './types'\r\nimport { getStats } from './utils'\r\n\r\nconst Home: React.FC = () => {\r\n\r\n  const grap = useGrap()\r\n  const [{\r\n    circSupply,\r\n    curPrice,\r\n    nextRebase,\r\n    targetPrice,\r\n    totalSupply,\r\n  }, setStats] = useState<OverviewData>({})\r\n\r\n  const fetchStats = useCallback(async () => {\r\n    const statsData = await getStats(grap)\r\n    setStats(statsData)\r\n  }, [grap, setStats])\r\n\r\n  useEffect(() => {\r\n    if (grap) {\r\n      fetchStats()\r\n    }\r\n  }, [grap])\r\n\r\n  const countdownBlock = () => {\r\n    const date = Date.parse(\"2020-08-20T00:00:00+0000\");\r\n    if (Date.now() >= date) return \"\";\r\n    return (\r\n      <CountdownView>\r\n        <Countdown date={date} />\r\n      </CountdownView>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      {countdownBlock()}\r\n\r\n      <PageHeader icon=\"🍇\" subtitle=\"It's a great day to farm GRAPs. (without wrong rebase)\" title=\"Welcome\" />\r\n\r\n      <StyledOverview>\r\n        <Rebase nextRebase={nextRebase} />\r\n        <StyledSpacer />\r\n        <Stats\r\n          circSupply={circSupply}\r\n          curPrice={curPrice}\r\n          targetPrice={targetPrice}\r\n          totalSupply={totalSupply}\r\n        />\r\n      </StyledOverview>\r\n    </Page>\r\n  )\r\n}\r\n\r\nconst StyledOverview = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n  }\r\n`\r\n\r\nconst CountdownView =  styled.div`\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  color: #555;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n  width: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nexport default Home\r\n","import React, { useCallback, useEffect, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ChainId, Token, WETH, Fetcher, Route } from '@uniswap/sdk'\r\nimport Web3 from 'web3';\r\nimport useGrap from '../../../hooks/useGrap'\r\n\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport Loader from '../../../components/Loader'\r\nimport useFarms from '../../../hooks/useFarms'\r\nimport { Farm } from '../../../contexts/Farms'\r\nimport { getPoolStartTime } from '../../../grapUtils'\r\nimport { getDisplayBalance } from '../../../utils/formatBalance'\r\nimport { getStats } from '../../../views/Home/utils'\r\nimport { OverviewData } from '../../../views/Home/types'\r\nimport { Grap } from '../../../grap'\r\nimport BigNumber from 'bignumber.js'\r\nexport interface GrapContext {\r\n  grap?: typeof Grap\r\n}\r\n\r\nconst ADDRESS = '0xC8D2AB2a6FdEbC25432E54941cb85b55b9f152dB';\r\nlet currentPrice = 0;\r\nlet grap: any;\r\nconst FarmCards: React.FC = () => {\r\n\r\n  const [farms] = useFarms()\r\n  grap = useGrap()\r\n  const [{\r\n    circSupply,\r\n    curPrice,\r\n    nextRebase,\r\n    targetPrice,\r\n    totalSupply,\r\n  }, setStats] = useState<OverviewData>({})\r\n\r\n  const fetchStats = useCallback(async () => {\r\n    const statsData = await getStats(grap)\r\n    setStats(statsData)\r\n    currentPrice = parseFloat(getDisplayBalance(new BigNumber(statsData.curPrice)))\r\n  }, [grap, setStats])\r\n\r\n  useEffect(() => {\r\n    if (grap) {\r\n      fetchStats()\r\n    }\r\n  }, [grap])\r\n\r\n\r\n  const priceBlock = () => {\r\n    return <TitleView>Current price: ${currentPrice}</TitleView>\r\n  }\r\n\r\n\r\n  if (!loaded) {\r\n    loaded = true;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {currentPrice ? priceBlock() : ''}\r\n      <StyledCards>\r\n        {farms.length ? farms.map((farm, i) => (\r\n          <React.Fragment key={i}>\r\n            <StaticsCard farm={farm} price={currentPrice}/>\r\n          </React.Fragment>\r\n        )) : (\r\n            <StyledLoadingWrapper>\r\n              <Loader text=\"Loading farms\" />\r\n            </StyledLoadingWrapper>\r\n          )}\r\n      </StyledCards>\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface StaticsCardProps {\r\n  farm: Farm,\r\n  price: number,\r\n}\r\nlet loaded = false;\r\n\r\nconst StaticsCard: React.FC<StaticsCardProps> = ({ farm, price }) => {\r\n  const [data, setData] = useState(null)\r\n\r\n\r\n  const getData = useCallback(async () => {\r\n    const selfAddress = grap.web3.currentProvider.selectedAddress;\r\n    const token = farm.depositToken;\r\n    let ah:any = {'weth': 'eth_pool', 'uni_lp': 'ycrvUNIV_pool'};\r\n    let key = ah[token] || `${token}_pool`\r\n\r\n    const STAKING_POOL = grap.contracts[key];\r\n    const Token = grap.contracts[token];\r\n    const GRAP_TOKEN = grap.contracts.grap;\r\n    const rewardTokenTicker = \"GRAP\"\r\n    const stakingTokenTicker = token\r\n    const grapScale = await GRAP_TOKEN.methods.grapsScalingFactor().call() / 1e18;\r\n    const rewardPoolAddr = STAKING_POOL._address\r\n    const amount = await STAKING_POOL.methods.balanceOf(selfAddress).call() / 1e18;\r\n    const earned = grapScale * await STAKING_POOL.methods.earned(selfAddress).call() / 1e18;\r\n    const totalSupply = await Token.methods.totalSupply().call() / 1e18;\r\n    const totalStakedAmount = await Token.methods.balanceOf(rewardPoolAddr).call() / 1e18;\r\n\r\n\r\n    const weekly_reward = (Math.round((await STAKING_POOL.methods.rewardRate().call() * 604800)) * grapScale) / 1e18;\r\n    const rewardPerToken = weekly_reward / totalStakedAmount;\r\n\r\n\r\n    let hash: any = {\r\n      yfi: [\"yearn-finance\"],\r\n      yfii: [\"yfii-finance\"],\r\n      crv: [\"curve-dao-token\"],\r\n      weth: [\"ethereum\"],\r\n      link: [\"chainlink\"],\r\n      mkr: [\"maker\"],\r\n      comp: [\"compound-governance-token\"],\r\n      snx: [\"havven\"],\r\n      lend: [\"ethlend\"],\r\n      uni_lp: [\"curve-fi-ydai-yusdc-yusdt-ytusd\"]\r\n    }\r\n    let stakingTokenPrice = 1;\r\n    if (Object.keys(hash).includes(token))  {\r\n      let d = await lookUpPrices(hash[token]);\r\n      let data:any = Object.values(d[0] || d)[0];\r\n      data = data.usd || data;\r\n      stakingTokenPrice = parseFloat(data.toString());\r\n      // if(token == 'yfi') debugger;\r\n      if(token === 'uni_lp'){\r\n        const UNI_TOKEN_ADDR = \"0x4eFdFe92F7528Bd16b95083d7Ba1b247De32F549\";\r\n        const totalyCRVInUniswapPair = await grap.contracts['ycrv'].methods.balanceOf(UNI_TOKEN_ADDR).call() / 1e18;\r\n        const totalGRAPInUniswapPair = await GRAP_TOKEN.methods.balanceOf(UNI_TOKEN_ADDR).call() / 1e18;\r\n        let yCRVPrice = stakingTokenPrice;\r\n        const totalSupplyOfStakingToken = await grap.contracts['ycrvUNIV'].methods.totalSupply().call() / 1e18;\r\n        stakingTokenPrice = (yCRVPrice * totalyCRVInUniswapPair + price * totalGRAPInUniswapPair) / totalSupplyOfStakingToken;\r\n      }\r\n    }\r\n    let weeklyEstimate = rewardPerToken * amount;\r\n    let weeklyROI = (rewardPerToken * price) * 100 / (stakingTokenPrice);\r\n\r\n\r\n    setData({\r\n      token,\r\n      weekly_reward,\r\n      amount,\r\n      totalSupply,\r\n      totalStakedAmount,\r\n      earned,\r\n      price,\r\n      stakingTokenPrice,\r\n      weeklyEstimate,\r\n      stakingTokenTicker,\r\n      rewardTokenTicker,\r\n      weeklyROI\r\n    })\r\n\r\n  }, [farm, setData]);\r\n\r\n\r\n  useEffect(() => {\r\n    getData()\r\n  }, [farm, getData])\r\n\r\n\r\n  const DataDetail = (data: any) => {\r\n\r\n    const {totalSupply, totalStakedAmount, weekly_reward, amount, earned, weeklyEstimate, rewardTokenTicker, stakingTokenTicker, stakingTokenPrice, price, weeklyROI} = data\r\n    // debugger\r\n    return (\r\n      <div>\r\n        <StyledPre>\r\n        ========== PRICES ==========<br/>\r\n    1 {rewardTokenTicker}   = {price}$<br/>\r\n    1 {stakingTokenTicker}   = {stakingTokenPrice}$<br/>\r\n    <br/>\r\n    ========== STAKING =========<br/>\r\n    There are total   : {totalSupply} {stakingTokenTicker}.<br/>\r\n    There are total   : {totalStakedAmount} {stakingTokenTicker} staked in {rewardTokenTicker}'s {stakingTokenTicker} staking pool.<br/>\r\n                      = <span className='total'>{toDollar(totalStakedAmount * stakingTokenPrice)}</span><br/>\r\n    You are staking   : {amount} {stakingTokenTicker} ({toFixed(amount * 100 / totalStakedAmount, 3)}% of the pool)<br/>\r\n                      = {toDollar(amount * stakingTokenPrice)}<br/>\r\n                      <br/>\r\n    ======== {rewardTokenTicker} REWARDS ========<br/>\r\n    Claimable Rewards : {toFixed(earned, 4)} {rewardTokenTicker} = ${toFixed(earned * price, 2)}<br/>\r\n    Hourly estimate   : {toFixed(weeklyEstimate / (24 * 7), 4)} {rewardTokenTicker} = {toDollar((weeklyEstimate / (24 * 7)) * price)} <br/>\r\n    Daily estimate    : {toFixed(weeklyEstimate / 7, 2)} {rewardTokenTicker} = {toDollar((weeklyEstimate / 7) * price)} <br/>\r\n    Weekly estimate   : {toFixed(weeklyEstimate, 2)} {rewardTokenTicker} = {toDollar(weeklyEstimate * price)} <br/>\r\n    Hourly ROI in USD : {toFixed((weeklyROI / 7) / 24, 4)}%<br/>\r\n    Daily ROI in USD  : {toFixed(weeklyROI / 7, 4)}%<br/>\r\n    Weekly ROI in USD : {toFixed(weeklyROI, 4)}%<br/>\r\n    APY (unstable)    : {toFixed(weeklyROI * 52, 4)}%<br/>\r\n        </StyledPre>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <StyledCardWrapper>\r\n      {farm.id === 'uni_lp' && (\r\n        <StyledCardAccent />\r\n      )}\r\n      <Card>\r\n        <CardContent>\r\n          <StyledContent>\r\n            <StyledTitle>{farm.icon}{farm.name}</StyledTitle>\r\n            <StyledDetails>\r\n              {data ? DataDetail(data) : \"Loading...\"}\r\n            </StyledDetails>\r\n          </StyledContent>\r\n        </CardContent>\r\n      </Card>\r\n    </StyledCardWrapper>\r\n  )\r\n}\r\n\r\nconst StyledCardAccent = styled.div`\r\n  background: linear-gradient(\r\n    45deg,\r\n    rgba(255, 0, 0, 1) 0%,\r\n    rgba(255, 154, 0, 1) 10%,\r\n    rgba(208, 222, 33, 1) 20%,\r\n    rgba(79, 220, 74, 1) 30%,\r\n    rgba(63, 218, 216, 1) 40%,\r\n    rgba(47, 201, 226, 1) 50%,\r\n    rgba(28, 127, 238, 1) 60%,\r\n    rgba(95, 21, 242, 1) 70%,\r\n    rgba(186, 12, 248, 1) 80%,\r\n    rgba(251, 7, 217, 1) 90%,\r\n    rgba(255, 0, 0, 1) 100%\r\n  );\r\n  border-radius: 12px;\r\n  filter: blur(4px);\r\n  position: absolute;\r\n  top: -2px; right: -2px; bottom: -2px; left: -2px;\r\n  z-index: -1;\r\n`\r\nconst StyledPre = styled.pre`\r\n  @media (max-width: 768px) {\r\n    white-space: pre-wrap;\r\n    word-wrap: break-word;\r\n  }\r\n`\r\n\r\nconst StyledCards = styled.div`\r\n  width: 900px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledLoadingWrapper = styled.div`\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledRow = styled.div`\r\n  margin-bottom: ${props => props.theme.spacing[4]}px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  display: inline-block;\r\n  margin: 15px;\r\n`\r\n\r\nconst StyledTitle = styled.h4`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  margin: ${props => props.theme.spacing[2]}px 0 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledContent = styled.div`\r\n  align-items: center;\r\n`\r\n\r\nconst TitleView = styled.div`\r\n  width: 100%;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n`\r\nconst StyledSpacer = styled.div`\r\n  height: ${props => props.theme.spacing[4]}px;\r\n  width: ${props => props.theme.spacing[4]}px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledDetails = styled.div`\r\n  margin-bottom: ${props => props.theme.spacing[6]}px;\r\n  margin-top: ${props => props.theme.spacing[2]}px;\r\n  text-align: left;\r\n`\r\n\r\nconst StyledDetail = styled.div`\r\n  color: ${props => props.theme.color.grey[500]};\r\n`\r\nconst StyledDetailView = styled.div`\r\n  color: ${props => props.theme.color.grey[500]};\r\n  display: flex;\r\n  flex: 1;\r\n`\r\nconst StyledDetailSpan =  styled.div`\r\n  text-align: right;\r\n  width: 200px;\r\n  padding-right: 10px;\r\n  display: inline-block;\r\n`\r\n\r\n\r\nconst toFixed = function(num: any, fixed: any) {\r\n  return num.toFixed(fixed)\r\n}\r\nconst toDollar = (str: any) => {\r\n  return `$${str}`\r\n}\r\n\r\nconst lookUpPrices = async function(id_array: any) {\r\n  let ids = id_array.join('%2C')\r\n  let res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=' + ids + '&vs_currencies=usd')\r\n  return res.json()\r\n}\r\n\r\nexport default FarmCards\r\n\r\n","import React from 'react'\r\nimport {\r\n  Route,\r\n  Switch,\r\n  useRouteMatch,\r\n} from 'react-router-dom'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport StaticsCards from \"../Statics/componnents/StaticsCards\"\r\n\r\nimport farmer from '../../assets/img/farmer.png'\r\n\r\nimport Button from '../../components/Button'\r\nimport Page from '../../components/Page'\r\nimport PageHeader from '../../components/PageHeader'\r\n\r\nconst Statics: React.FC = () => {\r\n  const { path } = useRouteMatch()\r\n  const { account, connect } = useWallet()\r\n  return (\r\n    <Switch>\r\n      <Page>\r\n      {!!account ? (\r\n        <>\r\n          <Route exact path={path}>\r\n            <PageHeader\r\n              icon={<img src={farmer} height=\"96\" />}\r\n              subtitle=\"Earn GRAP tokens by providing liquidity.\"\r\n              title=\"Statistics\"\r\n            />\r\n            <StaticsCards />\r\n          </Route>\r\n        </>\r\n      ) : (\r\n        <div style={{\r\n          alignItems: 'center',\r\n          display: 'flex',\r\n          flex: 1,\r\n          justifyContent: 'center',\r\n        }}>\r\n          <Button\r\n            onClick={() => connect('injected')}\r\n            text=\"Unlock Wallet\"\r\n          />\r\n        </div>\r\n      )}\r\n      </Page>\r\n    </Switch>\r\n  )\r\n}\r\n\r\n\r\nexport default Statics\r\n","export const white = '#FFF'\r\nexport const black = '#000'\r\n\r\nexport const green = {\r\n  500: '#00D110',\r\n}\r\n\r\nexport const red = {\r\n  100: '#FFFDFE',\r\n  200: '#FFA8C7',\r\n  500: '#d100c9',\r\n}\r\n\r\nexport const grey = {\r\n  100: '#e7d7ea',\r\n  200: '#f0e2fb',\r\n  300: '#efc6ed',\r\n  400: '#AA8592',\r\n  500: '#80495D',\r\n  600: '#5B2639',\r\n  800: '#2D121B',\r\n}\r\n","import { black, green, grey, red, white } from './colors'\r\n\r\nconst theme = {\r\n  borderRadius: 12,\r\n  color: {\r\n    green,\r\n    black,\r\n    grey,\r\n    red,\r\n    primary: {\r\n      light: red[200],\r\n      main: red[500],\r\n    },\r\n    secondary: {\r\n      main: green[500],\r\n    },\r\n    white,\r\n    ongoing: green[500],\r\n    successful: green[500],\r\n    fail: red[500]\r\n  },\r\n  siteWidth: 1200,\r\n  spacing: {\r\n    1: 4,\r\n    2: 8,\r\n    3: 16,\r\n    4: 24,\r\n    5: 32,\r\n    6: 48,\r\n    7: 64,\r\n  },\r\n  topBarSize: 72\r\n}\r\n\r\nexport default theme","import React, { useCallback, useEffect, useState } from 'react'\r\nimport {\r\n  HashRouter as Router,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom'\r\nimport { ThemeProvider } from 'styled-components'\r\nimport { UseWalletProvider } from 'use-wallet'\r\n\r\nimport MobileMenu from './components/MobileMenu'\r\nimport TopBar from './components/TopBar'\r\n\r\nimport ProposalsProvider from './contexts/Proposals'\r\nimport FarmsProvider from './contexts/Farms'\r\nimport ModalsProvider from './contexts/Modals'\r\nimport GrapProvider from './contexts/GrapProvider'\r\nimport TransactionProvider from './contexts/Transactions'\r\n\r\nimport Farms from './views/Farms'\r\nimport Vote from './views/Vote'\r\nimport Home from './views/Home'\r\nimport Statics from './views/Statics'\r\nimport theme from './theme'\r\n\r\nconst App: React.FC = () => {\r\n  const [mobileMenu, setMobileMenu] = useState(false)\r\n\r\n  const handleDismissMobileMenu = useCallback(() => {\r\n    setMobileMenu(false)\r\n  }, [setMobileMenu])\r\n\r\n  const handlePresentMobileMenu = useCallback(() => {\r\n    setMobileMenu(true)\r\n  }, [setMobileMenu])\r\n  return (\r\n    <Providers>\r\n      <Router>\r\n        <TopBar onPresentMobileMenu={handlePresentMobileMenu} />\r\n        <MobileMenu onDismiss={handleDismissMobileMenu} visible={mobileMenu} />\r\n        <Switch>\r\n          <Route path=\"/\" exact>\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/farms\">\r\n            <Farms />\r\n          </Route>\r\n          <Route path=\"/vote\">\r\n            <Vote />\r\n          </Route>\r\n          <Route path=\"/stats\">\r\n            <Statics />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </Providers>\r\n  )\r\n}\r\n\r\nconst Providers: React.FC = ({ children }) => {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <UseWalletProvider chainId={1}>\r\n        <GrapProvider>\r\n          <TransactionProvider>\r\n            <ModalsProvider>\r\n              <FarmsProvider>\r\n                <ProposalsProvider>\r\n                  {children}\r\n                </ProposalsProvider>\r\n              </FarmsProvider>\r\n            </ModalsProvider>\r\n          </TransactionProvider>\r\n        </GrapProvider>\r\n      </UseWalletProvider>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/farmer.f2043c04.png\";"],"sourceRoot":""}